(self.webpackChunkens_app=self.webpackChunkens_app||[]).push([[61],{37157:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Gl}});var r=n(23430),i=n(17186),a=n(50390),s=n(89743),o=n(68476),l=n(78855),d=n(74287),c=n(3038),u=n(58461),m=n(83078),p=n(32765),g=n(60048),f=n(86816),x=n(26028),h=n(19840),v=n(62713),y=n(93642),b=n(62559),j=function(e,t){return(null===e||void 0===e?void 0:e.filter((function(e){return t===e.name})).length)>0},w=function(e){var t=e.domain,n=t.name,r=null===n||void 0===n?void 0:n.split("."),i=(0,s.a)(function(e){return(null===e||void 0===e?void 0:e.length)<3?c.iG:c.PM}(r)),a=i.data,o=(null===r||void 0===r?void 0:r.length)<3?null===a||void 0===a?void 0:a.favourites:null===a||void 0===a?void 0:a.subDomainFavourites;return(0,b.jsx)(y.Z,{domain:t,isSubDomain:(null===r||void 0===r?void 0:r.length)>2,isFavourite:j(o,n)})},Z=n(2479),E=n(18489),O=n(60606),k=n.n(O),C=n(63926),R=n(35531),T=function(e){var t=function(e,t){return function t(n,r){return e[r].on.NEXT===r?[].concat((0,R.Z)(n),[r]):t([].concat((0,R.Z)(n),[r]),e[r].on.NEXT)}([],t)}(e.states,e.initialState);return{registerReducer:function(t,n){return e.states[t].on[n]||t},hasReachedState:function(e,n){var r=t.findIndex((function(t){return t===e}));return t.findIndex((function(e){return e===n}))>=r}}},D={initialState:"PRICE_DECISION",states:{PRICE_DECISION:{on:{NEXT:"COMMIT_SENT",PREVIOUS:"PRICE_DECISION"}},COMMIT_SENT:{on:{NEXT:"COMMIT_CONFIRMED",PREVIOUS:"PRICE_DECISION"}},COMMIT_CONFIRMED:{on:{NEXT:"AWAITING_REGISTER",PREVIOUS:"COMMIT_SENT"}},AWAITING_REGISTER:{on:{NEXT:"REVEAL_SENT",PREVIOUS:"COMMIT_CONFIRMED"}},REVEAL_SENT:{on:{NEXT:"REVEAL_CONFIRMED",PREVIOUS:"AWAITING_REGISTER"}},REVEAL_CONFIRMED:{on:{NEXT:"REVEAL_CONFIRMED",PREVIOUS:"REVEAL_SENT"}}}},S=T(D),P=S.registerReducer,I=S.hasReachedState,N=n(87724);var M,F=(0,p.Z)("div",{target:"eacr2ez0"})("color:",(function(e){return 100===e.progress?"#42E068":"#dfdfdf"}),";font-size:34px;font-weight:300;position:relative;width:60px;height:60px;span{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"),A=(0,p.Z)("svg",{target:"eacr2ez1"})("stroke:#ccc;circle{stroke-dasharray:",180,";stroke-dashoffset:0;}circle.progress{stroke-dasharray:",180,";stroke-dashoffset:",(function(e){return 1.8*(e.progress-100)}),";}"),_=(0,p.Z)("div",{target:"eacr2ez2"})({name:"tag0iu",styles:"margin-left:8px;h3{margin-top:2px;font-size:14px;font-weight:600;margin-bottom:5px;}p{font-size:14px;font-weight:400;margin-top:0;}"}),z=(0,p.Z)("div",{target:"eacr2ez3"})({name:"k008qs",styles:"display:flex;"}),B=function(e){var t=e.number,n=e.text,r=e.title,i=e.progress,a=void 0===i?100:i;return(0,b.jsxs)(z,{children:[(0,b.jsxs)(F,{progress:a,children:[(0,b.jsxs)(A,{height:"60",width:"60",progress:a,children:[(0,b.jsx)("circle",{cx:"30",cy:"30",r:"28",stroke:"#dfdfdf",strokeWidth:"2",fill:"none",transform:"rotate(-90, 30, 30)"}),(0,b.jsx)("circle",{cx:"30",cy:"30",r:"28",strokeWidth:"2",stroke:"#42E068",fill:"none",className:"progress",transform:"rotate(-90, 30, 30)"})]}),(0,b.jsx)("span",{children:t})]}),(0,b.jsxs)(_,{children:[(0,b.jsx)("h3",{children:r}),(0,b.jsx)("p",{children:n})]})]})},L=n(5936),U=["title","titleId"];function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H(e,t){var n=e.title,r=e.titleId,i=V(e,U);return a.createElement("svg",q({width:9,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,M||(M=a.createElement("path",{d:"M3.1875 9.6h2.625c0 .7732-.5876 1.4-1.3125 1.4s-1.3125-.6268-1.3125-1.4zm.4688-8.2866C2.2005 1.7128 1.125 3.1218 1.125 4.7998v2.3998c0 .2212-.1684.4004-.3746.4004C.336 7.6 0 7.959 0 8.4v.6006C0 9.1108.0834 9.2.188 9.2h8.624c.1038 0 .188-.0906.188-.1994V8.4c0-.4418-.3375-.8-.7504-.8-.2068 0-.3746-.1778-.3746-.4004V4.7998c0-1.6774-1.0753-3.0868-2.5313-3.4864V.9002C5.3438.4018 4.966 0 4.5 0c-.465 0-.8438.403-.8438.9002v.4132z",fill:"#5284FF",fillRule:"evenodd"})))}var Y,W=a.forwardRef(H),$=(n.p,["title","titleId"]);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e,t){var n=e.title,r=e.titleId,i=G(e,$);return a.createElement("svg",K({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Y||(Y=a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("circle",{fill:"#D2D2D2",cx:5.5,cy:5.5,r:5.5}),a.createElement("path",{d:"M5.123 6.196l2.1196-2.1195a.5897.5897 0 0 1 .8339 0l.1386.1386a.5897.5897 0 0 1 0 .8339L5.6903 7.5738a.588.588 0 0 1-.4263.1726.5898.5898 0 0 1-.6389-.1192L3.143 6.1959a.5897.5897 0 0 1-.0146-.8338l.1361-.141a.5897.5897 0 0 1 .8338-.0145l1.0247.9895z",fill:"#FFF"}))))}var J,Q,ee=a.forwardRef(X);n.p,n(17082);function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Hi there";if(!("Notification"in window))return!1;ne()&&new Notification(e)}function ne(){return"granted"===Notification.permission}function re(){"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===e&&te("We will send you a notification when your name is ready")}))}var ie=(0,p.Z)("section",{target:"e198kf3f0"})("display:grid;grid-template-columns:1fr;grid-row-gap:30px;",f.ZP.large(J||(J=(0,i.Z)(["\n    grid-template-columns: repeat(3, 1fr);\n    grid-column-gap: 30px;\n    grid-template-rows: 1fr;\n  "]))),""),ae=(0,p.Z)("div",{target:"e198kf3f1"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;h2{font-family:Overpass;font-weight:300;font-size:18px;color:#2b2b2b;letter-spacing:0;margin:0;margin-bottom:5px;",f.ZP.medium(Q||(Q=(0,i.Z)(["\n      font-size: 24px;\n      color: #2B2B2B;\n      letter-spacing: 0;\n    "]))),"}p{margin:0;font-weight:400;font-family:Overpass;font-size:14px;color:#adbbcd;letter-spacing:0;}"),se=(0,p.Z)(L.Co,{target:"e198kf3f2"})({name:"6su6fj",styles:"flex-shrink:0;"}),oe=(0,p.Z)("div",{target:"e198kf3f3"})({name:"1nx6jcw",styles:"color:hsla(0,0%,82%,1);"}),le=function(e){var t=e.step,n=e.waitPercentComplete,r=(e.waitTime,(0,g.$)().t),i={PRICE_DECISION:r("register.titles.0"),COMMIT_SENT:r("register.titles.1"),COMMIT_CONFIRMED:r("register.titles.1"),AWAITING_REGISTER:r("register.titles.1"),REVEAL_SENT:r("register.titles.1"),REVEAL_CONFIRMED:r("register.titles.2")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(ae,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:i[t]}),(0,b.jsx)("p",{children:r("register.favourite")})]}),ne()?(0,b.jsxs)(oe,{children:[(0,b.jsx)(ee,{style:{marginRight:5}}),r("register.notify")]}):(0,b.jsxs)(se,{type:"hollow-primary",onClick:re,children:[(0,b.jsx)(W,{style:{marginRight:5}}),r("register.notify")]})]}),(0,b.jsxs)(ie,{children:[(0,b.jsx)(B,{number:1,progress:"PRICE_DECISION"===t?0:"COMMIT_SENT"===t?50:100,title:r("register.step1.title"),text:r("register.step1.text")+" "+r("register.step1.text2")}),(0,b.jsx)(B,{number:2,progress:"PRICE_DECISION"===t||"COMMIT_SENT"===t?0:"COMMIT_CONFIRMED"===t?n:100,title:r("register.step2.title"),text:r("register.step2.text")}),(0,b.jsx)(B,{number:3,progress:"REVEAL_CONFIRMED"===t?100:"REVEAL_SENT"===t?50:0,title:r("register.step3.title"),text:r("register.step3.text")})]})]})},de=n(33032),ce=n(84322),ue=n.n(ce),me=n(6109),pe=n(74812),ge=n(5170),fe=n(7016),xe=n(15597),he=n(15130),ve=n(1227),ye=n(5537),be=n(1195),je=n(3453),we=n(34693),Ze=n(69676);var Ee,Oe=function(e){var t=e.startDatetime,n=(e.type,e.name),i=e.registrant,s=e.noMargin,o=(0,a.useState)(!1),l=(0,r.Z)(o,2),d=l[0],c=l[1],u=(0,g.$)().t,m=t.clone().add(2,"hours"),p=k().duration(m.diff(t)).asHours(),f={title:u("reminder.renewal.title",{name:n}),description:u("reminder.renewal.description"),location:u("reminder.everywhere"),startDatetime:t.format("YYYYMMDDTHHmmss"),endDatetime:m.format("YYYYMMDDTHHmmss"),duration:p},x=function(){c(!1)},h=[(0,b.jsx)(je.Z,{domainName:n,address:i,onClick:function(){c(!0)},children:u("c.email")},"email")];return(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(we.Z,{closeModal:x,children:(0,b.jsx)(Ze.Z,{address:i,onCancel:x})}),(0,b.jsx)(be.Z,{style:{display:"none"},event:f,dropDownLinks:h,noMargin:s})]})},ke=["title","titleId"];function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Te(e,t){var n=e.title,r=e.titleId,i=Re(e,ke);return a.createElement("svg",Ce({width:12,height:12,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ee||(Ee=a.createElement("g",{fill:"#FFF",fillRule:"evenodd"},a.createElement("path",{d:"M.8222 8.1247l.0065.0065-.768 2.6925c-.236.8263.236 1.318 1.082 1.082l2.6787-.7818.0054.0054 5.8701-5.87-3.0045-3.0047L.8222 8.1247zM11.6168 1.677L10.2791.3395c-.4524-.4525-1.2-.4525-1.6721 0L7.4857 1.4607l3.0098 3.0098 1.1213-1.1213c.4722-.4721.4722-1.2197 0-1.6721"}))))}var De,Se=a.forwardRef(Te),Pe=(n.p,n(9609));var Ie=(0,p.Z)("div",{target:"eh2r9yz0"})({name:"pori7h",styles:"display:flex;justify-content:flex-end;align-items:center;"}),Ne=(0,p.Z)(Se,{target:"eh2r9yz1"})({name:"1sylyko",styles:"margin-right:5px;"}),Me=(0,p.Z)("span",{target:"eh2r9yz2"})({name:"vayuoy",styles:"color:#ffa600;margin-right:10px;"}),Fe=(0,p.Z)(Pe.r,{target:"eh2r9yz3"})({name:"13y7hp",styles:"margin-right:5px;height:12px;width:12px;"}),Ae=(0,p.Z)(me.rU,{target:"eh2r9yz4"})({name:"8mg22s",styles:"margin-right:20px;"});function _e(e){var t=e.step,n=e.incrementStep,r=e.secret,a=e.duration,s=e.label,o=e.hasSufficientBalance,l=e.txHash,d=e.setTxHash,c=e.setCommitmentTimerRunning,u=e.commitmentTimerRunning,m=e.isAboveMinDuration,p=e.refetch,g=e.refetchIsMigrated,f=e.readOnly,x=e.price,h=e.years,v=e.premium,y=e.history,j=e.t,w=e.ethUsdPrice,Z=e.account;return{PRICE_DECISION:(0,b.jsx)(ge.m,{mutation:he.g,variables:{label:s,secret:r,commitmentTimerRunning:u},onCompleted:function(e){var t=Object.values(e)[0];d(t),c(!0),n()},children:function(e){return m&&!f?o?(0,b.jsx)(L.Co,{"data-testid":"request-register-button",onClick:e,children:j("register.buttons.request")}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Me,{children:[(0,b.jsx)(Fe,{}),j("register.buttons.insufficient")]}),(0,b.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",children:j("register.buttons.request")})]}):f?(0,b.jsx)(ve.Z,{text:"<p>You are not connected to a web3 browser. Please connect to a web3 browser and try again</p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var t=e.showTooltip,n=e.hideTooltip;return(0,b.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",onMouseOver:function(){t()},onMouseLeave:function(){n()},children:j("register.buttons.request")})}}):(0,b.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",children:j("register.buttons.request")})}}),COMMIT_SENT:(0,b.jsx)(ye.Z,{txHash:l}),COMMIT_CONFIRMED:(0,b.jsx)(L.Co,{"data-testid":"disabled-register-button",type:"disabled",children:j("register.buttons.register")}),AWAITING_REGISTER:(0,b.jsx)(ge.m,{mutation:he.Nz,variables:{label:s,duration:a,secret:r},onCompleted:function(e){var t=Object.values(e)[0];d(t),n()},children:function(e){return(0,b.jsx)(b.Fragment,{children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Me,{children:[(0,b.jsx)(Fe,{}),j("register.buttons.warning")]}),(0,b.jsx)(L.Co,{"data-testid":"register-button",onClick:e,children:j("register.buttons.register")})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Me,{children:[(0,b.jsx)(Fe,{}),j("register.buttons.insufficient")]}),(0,b.jsx)(L.Co,{"data-testid":"register-button",type:"disabled",children:j("register.buttons.register")})]})})}}),REVEAL_SENT:(0,b.jsx)(ye.Z,{txHash:l,onConfirmed:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w&&(0,xe.F2)({transactionId:l,labels:[s],type:"register",price:new fe.Z("".concat(x._hex)).toEth().mul(w).toFixed(2),years:h,premium:v}),n();case 2:case"end":return e.stop()}}),e)})))}),REVEAL_CONFIRMED:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Oe,{css:(0,pe.iv)(De||(De=(0,i.Z)(["\n            margin-right: 20px;\n          "]))),name:"".concat(s,".evmos"),startDatetime:k()().utc().local().add(a,"seconds").subtract(30,"days")}),(0,b.jsx)(Ae,{onClick:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([p(),g()]);case 2:y.push("/name/".concat(s,".evmos"));case 3:case"end":return e.stop()}}),e)}))),"data-testid":"manage-name-button",children:j("register.buttons.manage")}),(0,b.jsxs)(L.Co,{onClick:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([g()]);case 2:y.push("/address/".concat(Z));case 3:case"end":return e.stop()}}),e)}))),children:[(0,b.jsx)(Ne,{}),j("register.buttons.setreverserecord")]})]})}[t]}var ze,Be=function(e){var t=e.step,n=e.incrementStep,i=e.secret,s=e.duration,o=e.label,l=e.hasSufficientBalance,d=e.setTimerRunning,c=e.setCommitmentTimerRunning,u=e.commitmentTimerRunning,m=e.setBlockCreatedAt,p=e.isAboveMinDuration,f=e.refetch,x=e.refetchIsMigrated,h=e.readOnly,v=e.price,y=e.years,j=e.premium,w=e.ethUsdPrice,E=(0,g.$)().t,O=(0,Z.k6)(),k=(0,C.m)(),R=(0,a.useState)(void 0),T=(0,r.Z)(R,2),D=T[0],S=T[1];return(0,a.useEffect)((function(){return function(){"REVEAL_CONFIRMED"===t&&f()}}),[t]),(0,b.jsx)(Ie,{children:_e({step:t,incrementStep:n,secret:i,duration:s,label:o,hasSufficientBalance:l,txHash:D,setTxHash:S,setTimerRunning:d,setBlockCreatedAt:m,setCommitmentTimerRunning:c,commitmentTimerRunning:u,isAboveMinDuration:p,refetch:f,refetchIsMigrated:x,readOnly:h,price:v,years:y,premium:j,history:O,t:E,ethUsdPrice:w,account:k})})},Le=["title","titleId"];function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ve(e,t){var n=e.title,r=e.titleId,i=qe(e,Le);return a.createElement("svg",Ue({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ze||(ze=a.createElement("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},a.createElement("circle",{fill:"hsla(0,0%,82%,1)",cx:5.5,cy:6.5,r:5.5}),a.createElement("text",{fontFamily:"Overpass-Bold, Overpass",fontSize:10,fontWeight:"bold",letterSpacing:.3125,fill:"#FFF"},a.createElement("tspan",{x:3,y:10},"?")))))}var He,Ye=a.forwardRef(Ve),We=(n.p,["title","titleId"]);function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ge(e,t){var n=e.title,r=e.titleId,i=Ke(e,We);return a.createElement("svg",$e({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,He||(He=a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("circle",{fill:"#42E068",cx:5.5,cy:5.5,r:5.5}),a.createElement("path",{d:"M5.123 6.196l2.1196-2.1195a.5897.5897 0 0 1 .8339 0l.1386.1386a.5897.5897 0 0 1 0 .8339L5.6903 7.5738a.588.588 0 0 1-.4263.1726.5898.5898 0 0 1-.6389-.1192L3.143 6.1959a.5897.5897 0 0 1-.0146-.8338l.1361-.141a.5897.5897 0 0 1 .8338-.0145l1.0247.9895z",fill:"#FFF"}))))}var Xe=a.forwardRef(Ge);n.p;var Je=(0,p.Z)("div",{target:"e34hp130"})({name:"10ib5jr",styles:"margin-bottom:40px;"}),Qe={PRICE_DECISION:0,COMMIT_SENT:12.5,COMMIT_CONFIRMED:25,AWAITING_REGISTER:75,REVEAL_SENT:85,REVEAL_CONFIRMED:100},et=(0,p.Z)("div",{target:"e34hp131"})("height:20px;width:100%;border-radius:10px;margin-bottom:20px;background:",(function(e){var t=e.percentDone;return t&&"\n        linear-gradient(to right, #AFFF8C 0%, #42E068 ".concat(t,"%, transparent ").concat(t,"%),")})," rgba(66,224,104,0.1);"),tt=(0,p.Z)("div",{target:"e34hp132"})({name:"1fcsmgl",styles:"display:flex;margin-bottom:20px;"}),nt=(0,p.Z)("section",{target:"e34hp133"})("flex:",(function(e){return e.large?"2":"1"}),";display:flex;justify-content:center;border:1px dotted #ccc;border-right:none;border-top:none;position:relative;&:last-of-type{border-right:1px dotted #ccc;}"),rt=(0,p.Z)("div",{target:"e34hp134"})("display:flex;align-items:center;background:white;padding:3px 15px;font-family:Overpass;font-weight:bold;font-size:14px;letter-spacing:1px;margin-bottom:-16px;transition:0.2s;color:",(function(e){return e.completed?"hsla(134, 72%, 57%, 1)":"hsla(0,0%,82%,1)"}),";&:hover{color:",(function(e){return e.completed?"hsla(134, 72%, 57%, 1)":"hsla(227, 58%, 41%, 1)"}),";circle{fill:hsla(227,58%,41%,1);}}"),it=(0,p.Z)(Ye,{target:"e34hp135"})({name:"12tgc6y",styles:"margin-left:5px;margin-bottom:2px;transition:0.2s;"}),at=(0,p.Z)(Xe,{target:"e34hp136"})({name:"68roia",styles:"margin-left:5px;margin-bottom:2px;"});function st(e){var t=e.children,n=e.completed,r=e.text,i=e.large,a=e.icon,s=e.onMouseOver,o=e.onMouseLeave;return(0,b.jsx)(nt,{large:i,children:(0,b.jsxs)(rt,{completed:n,onMouseOver:s,onMouseLeave:o,children:[t,r," ",a]})})}var ot=function(e){var t=e.step,n=e.waitPercentComplete;if("PRICE_DECISION"===t)return null;var r=n/(100/(Qe.AWAITING_REGISTER-Qe.COMMIT_CONFIRMED))+25;return(0,b.jsxs)(Je,{children:[(0,b.jsx)(et,{percentDone:"COMMIT_CONFIRMED"!==t?Qe[t]:r}),(0,b.jsxs)(tt,{children:[(0,b.jsx)(ve.Z,{text:"<p>The first transaction is being mined on the blockchain. This should take 15-30 seconds.</p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,i=e.hideTooltip,a=I("COMMIT_CONFIRMED",t);return(0,b.jsxs)(st,{text:"Step 1",completed:a,icon:a?(0,b.jsx)(at,{}):(0,b.jsx)(it,{}),onMouseOver:function(){r()},onMouseLeave:function(){i()},children:["\xa0",n]})}}),(0,b.jsx)(ve.Z,{text:"<p>Once this step is complete, the \u2018register\u2019 button will activate. Sign up for browser notifications to remind you when the wait is up.  </p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,i=e.hideTooltip,a=I("AWAITING_REGISTER",t);return(0,b.jsxs)(st,{large:!0,text:"Step 2",completed:a,icon:a?(0,b.jsx)(at,{}):(0,b.jsx)(it,{}),onMouseOver:function(){r()},onMouseLeave:function(){i()},children:["\xa0",n]})}}),(0,b.jsx)(ve.Z,{text:"<p>Click \u2018register\u2019 to launch the second transaction and complete the registration. </p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,i=e.hideTooltip,a=I("REVEAL_CONFIRMED",t);return(0,b.jsxs)(st,{completed:a,text:"Step 3",icon:I("REVEAL_CONFIRMED",t)?(0,b.jsx)(at,{}):(0,b.jsx)(it,{}),onMouseOver:function(){r()},onMouseLeave:function(){i()},children:["\xa0",n]})}})]})]})};var lt=(0,p.Z)("div",{target:"e1ic7b0z0"})({name:"1ytfatq",styles:"padding:30px 40px;"}),dt=(0,p.Z)("div",{target:"e1ic7b0z1"})({name:"1qv42d6",styles:"background:#f0f6fa;color:#2b2b2b;font-size:20px;padding:20px;font-weight:300;"});function ct(e){e.domain;var t=(0,g.$)().t;return(0,b.jsx)(lt,{children:(0,b.jsx)(dt,{children:t("singleName.messages.alreadyregistered")})})}var ut=n(93646),mt=n(16198),pt=n.n(mt),gt=n(82969);var ft=(0,p.Z)("div",{target:"e1ric6it0"})({name:"1lfzuwt",styles:"background-color:white;color:#d8d8d8;padding:1em;#myChart{cursor:pointer;}"}),xt=(0,p.Z)("div",{target:"e1ric6it1"})({name:"g5bgmf",styles:"display:flex;justify-content:space-between;span{margin:1em;}"}),ht=(0,p.Z)("canvas",{target:"e1ric6it2"})({name:"1tqkeyg",styles:"background-color:#e9eef6;"}),vt=(0,p.Z)("span",{target:"e1ric6it3"})({name:"1pu1kae",styles:"font-weight:bold;font-size:large;"});function yt(e){var t,n,i=e.startDate,s=e.currentDate,o=e.targetDate,l=e.endDate,d=e.now,c=e.ethUsdPrice,u=e.handleTooltip,m=e.oracle,p=e.premiumOnlyPrice,f=e.price,x=(0,gt.Z)({price:f,premium:p,ethUsdPrice:c}),h=m.getDaysRemaining(d),v=m.getHoursRemaining(d),y=m.totalDays,j=a.createRef(),w=[],Z=[],E=[],O=[],k=[],C=(0,g.$)().t,R=(0,a.useState)(!1),T=(0,r.Z)(R,2),D=T[0],S=T[1];h>7?(t=d,n=h):h>1?(t=l.clone().subtract(7,"day"),n=7):(t=l.clone().subtract(24,"hour"),n=24);for(var P=m.getAmountByDateRange(i,t),I=t.clone();l.diff(I)>0;I=I.add(1,"hour")){var N=m.getAmountByDateRange(i,I),M=I.format("YYYY-MM-DD:HH:00");Z.push(M),w.push(N),s.diff(I)>=0||s.format("YYYY-MM-DD:HH:00")===M?E.push(N):E.push(null),s.format("YYYY-MM-DD:HH:00")===M||i.format("YYYY-MM-DD:HH:00")===M||o.format("YYYY-MM-DD:HH:00")===M||o===M?O.push(3):O.push(null),o===M?k.push(2e3):k.push(null)}return(0,a.useEffect)((function(){var e=j.current.getContext("2d");pt().defaults.global.tooltips.yAlign="top",pt().defaults.global.tooltips.xAlign="center";var t=new(pt())(e,{type:"line",data:{labels:Z,datasets:[{label:"Passed",borderWidth:3,data:E,borderColor:"#2C46A6",backgroundColor:"#2C46A6",pointRadius:O,fill:!1},{label:"Estimate",borderWidth:2,data:w,borderColor:"#D8D8D8",pointBackgroundColor:"#2C46A6",pointBorderColor:"#2C46A6",fill:!1,pointRadius:O}]},options:{events:["click"],animation:{duration:0},tooltips:{enabled:!0,mode:"nearest",intersect:!1,titleAlign:"center",multiKeyBackground:"#2C46A6",callbacks:{label:function(e,t){u(e);var n="Premium: $".concat(e.yLabel.toFixed(2));if(1===e.datasetIndex)return n}}},responsive:!0,aspectRatio:5,legend:{display:!1},scales:{xAxes:[{afterFit:function(e){e.height=0},ticks:{maxTicksLimit:n,callback:function(){return""}},gridLines:{zeroLineColor:"#e9eef6",zeroLineWidth:3,color:"white",lineWidth:3,offsetGridLines:!1,drawBorder:!1}}],yAxes:[{ticks:{display:!1,max:1.1*P},gridLines:{display:!1,drawBorder:!1}}]},layout:{padding:{}}}});S(t)}),[]),D&&(D.data.datasets[0].pointRadius=O,D.data.datasets[1].pointRadius=O,D.update()),(0,b.jsxs)(ft,{children:[(0,b.jsxs)(xt,{children:[(0,b.jsxs)(vt,{children:[C("linegraph.title",{premiumInEth:x.premium})," ","EVMOS($",x.premiumInUsd,")"]}),(0,b.jsx)("span",{children:h>1?C("linegraph.daysRemaining",{daysRemaining:h,totalDays:y}):"".concat(v," hours remaining")})]}),(0,b.jsx)(ht,{id:"myChart",ref:j}),(0,b.jsxs)(xt,{children:[(0,b.jsxs)("span",{children:["$",parseInt(P)," "]}),(0,b.jsx)("span",{children:"$0"})]})]})}var bt=n(2299),jt=n(60249);var wt,Zt,Et,Ot,kt,Ct,Rt,Tt=function(e){var t=e.startDatetime,n=e.name,r=e.noMargin,i=e.invalid,a=(0,g.$)().t,s=t.clone().add(2,"hours"),o=k().duration(s.diff(t)).asHours(),l={title:a("reminder.release.title",{name:n}),description:a("reminder.release.description",{name:n}),location:a("reminder.everywhere"),startDatetime:t.format("YYYYMMDDTHHmmss"),endDatetime:s.format("YYYYMMDDTHHmmss"),duration:o};return(0,b.jsx)(be.Z,{event:l,noMargin:r,invalid:i})};var Dt=(0,p.Z)("div",{target:"enmae6q0"})("display:grid;grid-template-columns:1fr;margin-bottom:20px;margin-top:20px;",f.ZP.medium(wt||(wt=(0,i.Z)(["\n    grid-template-columns:\n      minmax(min-content, 200px) minmax(min-content, min-content)\n      minmax(200px, 1fr) minmax(200px, min-content);\n  "]))),""),St=(0,p.Z)(bt.r,{target:"enmae6q1"})("display:none;",f.ZP.medium(Zt||(Zt=(0,i.Z)(["\n    display: block;\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n  "]))),""),Pt=(0,p.Z)("div",{target:"enmae6q2"})(f.ZP.medium(Et||(Et=(0,i.Z)(["\n    max-width: 220px;\n  "]))),""),It=(0,p.Z)("div",{target:"enmae6q3"})("width:100%;",f.ZP.medium(Ot||(Ot=(0,i.Z)(["\n    width: auto\n  "]))),""),Nt=(0,p.Z)("div",{target:"enmae6q4"})("margin-top:1em;",f.ZP.medium(kt||(kt=(0,i.Z)(["\n    margin: auto;\n    max-width: 220px;\n  "]))),""),Mt=(0,p.Z)("div",{target:"enmae6q5"})("font-family:Overpass;font-weight:100;font-size:22px;color:",(function(e){return e.invalid?"red":"#2b2b2b"}),";border-bottom:1px solid #dbdbdb;",f.ZP.small(Ct||(Ct=(0,i.Z)(["\n    font-size: 28px;\n  "]))),""),Ft=(0,p.Z)("div",{target:"enmae6q6"})({name:"pxau33",styles:"font-family:Overpass;font-weight:300;font-size:14px;color:#adbbcd;margin-top:10px;"}),At=(0,p.Z)(jt.Z,{target:"enmae6q7"})({name:"1qkns59",styles:"display:inline-block;width:8em;margin-bottom:0em;"});var _t=function(e){var t=e.name,n=e.invalid,r=e.className,a=e.reference,s=e.handlePremium,o=e.targetPremium,l=e.targetDate,d=(0,g.$)().t;return(0,b.jsxs)(Dt,{className:r,ref:a,children:[(0,b.jsxs)(Pt,{children:[(0,b.jsx)(At,{invalid:n,wide:!1,placeholder:"$0",value:o,onChange:function(e){s(e.target)}}),(0,b.jsx)(Ft,{children:d("register.premium.title")})]}),(0,b.jsx)(St,{}),(0,b.jsxs)(It,{children:[(0,b.jsx)(Mt,{invalid:n,children:n?d("register.premium.invalid"):"".concat((0,N.p6)(l))}),(0,b.jsx)(Ft,{children:d("register.premium.dateDescription")})]}),(0,b.jsx)(Nt,{style:{display:"none"},children:(0,b.jsx)(Tt,{css:(0,pe.iv)(Rt||(Rt=(0,i.Z)(["\n            margin-right: 20px;\n          "]))),name:t,startDatetime:l.utc().local(),invalid:n})})]})},zt=n(53049);var Bt,Lt=function(e){return window.localStorage.getItem("progress")?JSON.parse(window.localStorage.getItem("progress"))[e]:null},Ut=function(e,t){var n,r={};(n=window.localStorage.getItem("progress"))&&(r=JSON.parse(n)),r[e]=(0,E.Z)((0,E.Z)({},r[e]),t),window.localStorage.setItem("progress",JSON.stringify(r))},qt=function(e){var t,n={};(t=window.localStorage.getItem("progress"))&&(n=JSON.parse(t)),delete n[e],window.localStorage.setItem("progress",JSON.stringify(n))},Vt=function(e){var t,n,r=e.checkCommitment,i=e.domain,a=e.networkId,s=e.states,o=e.step,l=e.dispatch,d=e.secret,c=e.setSecret,u=e.years,m=e.setYears,p=e.timerRunning,g=e.setTimerRunning,f=e.waitUntil,x=e.setWaitUntil,h=e.secondsPassed,v=e.setSecondsPassed,y=e.commitmentExpirationDate,b=e.setCommitmentExpirationDate,j=e.now,w=Object.keys(s).indexOf(o),Z="".concat(a,"-").concat(i.label);switch(t=Lt(Z),d||(t&&t.secret?c(t.secret):c("0x"+zt.randomBytes(32).toString("hex"))),u||(t&&t.years?m(t.years):m(1)),f||t&&t.waitUntil&&x(t.waitUntil),h||t&&t.secondsPassed&&v(t.secondsPassed),y||t&&t.commitmentExpirationDate&&b(t.commitmentExpirationDate),n=Object.keys(s).indexOf(t&&t.step)-w>0,t&&j&&(t.commitmentExpirationDate&&k()(t.commitmentExpirationDate).isSameOrBefore(j)?qt(Z):n&&l("NEXT")),o){case"PRICE_DECISION":if(t)if(t.secret&&t.years)new Date(1e3*r)>0?(l("NEXT"),l("NEXT")):Ut(Z,{step:o,secret:d,years:u});else Ut(Z,{step:o,secret:d,years:u});else Ut(Z,{step:o,secret:d});break;case"COMMIT_CONFIRMED":Ut(Z,{step:o,secret:d,waitUntil:f,secondsPassed:h,commitmentExpirationDate:y}),p||g(!0);break;case"AWAITING_REGISTER":p&&g(!1)}return d},Ht=(0,o.Ps)(Bt||(Bt=(0,i.Z)(["\n  query web3 @client {\n    accounts\n    networkId\n    network\n    isReadOnly\n    isSafeApp\n  }\n"]))),Yt=function(){var e=(0,s.a)(Ht),t=e.data,n=e.loading,r=e.error,i=e.refetch;if(!t)return{accounts:void 0,network:void 0,networkId:void 0,loading:n,error:r};var a=t.accounts,o=t.network,l=t.networkId,d=t.isReadOnly;return{accounts:d?[]:a,network:o,networkId:l,loading:n,refetch:i,error:r,isReadOnly:d,isSafeApp:t.isSafeApp}},Wt=n(27853),$t=n(84531),Kt=3600,Gt=function(){function e(t,n){(0,Wt.Z)(this,e),this.algorithm=n,"exponential"===n?(this.startingPremiumInUsd=1e8,this.totalDays=21,this.lastValue=this.startingPremiumInUsd*Math.pow(.5,this.totalDays)):(this.startingPremiumInUsd=1e5,this.totalDays=28),this.releasedDate=t.clone().add(90,"days"),this.zeroPremiumDate=this.releasedDate.clone().add(this.totalDays,"days"),this.diff=this.zeroPremiumDate.diff(this.releasedDate),this.rate=this.startingPremiumInUsd/this.diff,this.diffInHour=this.zeroPremiumDate.diff(this.releasedDate,"hour"),this.hourlyRate=this.startingPremiumInUsd/this.diffInHour}return(0,$t.Z)(e,[{key:"getDaysPast",value:function(e){return parseInt(e.diff(this.releasedDate)/86400/1e3)}},{key:"getHoursPast",value:function(e){return parseInt(e.diff(this.releasedDate)/Kt/1e3)}},{key:"getDaysRemaining",value:function(e){return this.totalDays-this.getDaysPast(e)}},{key:"getHoursRemaining",value:function(e){return 24*this.totalDays-this.getHoursPast(e)}},{key:"getTargetDateByAmount",value:function(e){var t;return"exponential"===this.algorithm?(t=e<this.lastValue?this.totalDays:Math.log((e+this.lastValue)/this.startingPremiumInUsd)/Math.log(.5),this.releasedDate.clone().add(24*t*60,"minutes")):this.zeroPremiumDate.clone().subtract(e/this.rate/1e3,"second")}},{key:"getTargetAmountByDaysPast",value:function(e){if("exponential"===this.algorithm){var t=this.startingPremiumInUsd*Math.pow(.5,e);return t>=this.lastValue?t-this.lastValue:0}return(this.totalDays-e)*(24*this.hourlyRate)}},{key:"getAmountByDateRange",value:function(e,t){var n=t.diff(e)/Kt/1e3/24;return this.getTargetAmountByDaysPast(n)}}]),e}();var Xt,Jt,Qt=(0,p.Z)("div",{target:"eo8b4f50"})({name:"19lgokg",styles:"padding:20px 40px;"}),en=(0,p.Z)("div",{target:"eo8b4f51"})({name:"18o4zck",styles:"background-color:#fef6e9;color:black;padding:1em;margin-bottom:1em;"}),tn=function(e){var t,n,i,o,l=e.domain,u=e.waitTime,m=e.refetch,p=e.refetchIsMigrated,f=e.readOnly,x=e.registrationOpen,h=(0,g.$)().t,v=(0,a.useState)(!1),y=(0,r.Z)(v,2),j=y[0],w=y[1],Z=Yt().networkId,E=(0,a.useReducer)(P,D.initialState),O=(0,r.Z)(E,2),R=O[0],T=O[1],S=function(){return T("NEXT")},I=(0,a.useState)(!1),M=(0,r.Z)(I,2),F=M[0],A=M[1],_=(0,a.useState)(0),z=(0,r.Z)(_,2),B=z[0],L=z[1],U=(0,a.useState)(!1),q=(0,r.Z)(U,2),V=q[0],H=q[1],Y=(0,a.useState)(!1),W=(0,r.Z)(Y,2),$=W[0],K=W[1],G=(0,a.useState)(null),X=(0,r.Z)(G,2),J=X[0],Q=X[1],ee=(0,a.useState)(null),ne=(0,r.Z)(ee,2),re=ne[0],ie=ne[1],ae=(0,a.useState)(!1),se=(0,r.Z)(ae,2),oe=se[0],de=se[1],ce=(0,a.useState)(!1),ue=(0,r.Z)(ce,2),me=ue[0],pe=ue[1],ge=(0,a.useState)(!1),fe=(0,r.Z)(ge,2),xe=fe[0],he=fe[1],ve=(0,s.a)(c.GH),ye=ve.data,be=(ye=void 0===ye?{}:ye).getEthPrice,je=ve.loading,we=(0,s.a)(c.zc).data,Ze=(we=void 0===we?{}:we).getPriceCurve,Ee=(0,d.Fh)(),Oe=Ee.loading,ke=Ee.price,Ce=(0,d.rL)().block,Re=(0,a.useState)(!1),Te=(0,r.Z)(Re,2),De=Te[0],Se=Te[1],Pe=(0,s.a)(c.ql,{variables:{waitUntil:re},fetchPolicy:"no-cache"}).data,Ie=(Pe=void 0===Pe?{}:Pe).waitBlockTimestamp,Ne=(0,C.m)(),Me=(0,s.a)(c.ku,{variables:{address:Ne},fetchPolicy:"no-cache"}).data,Fe=(Me=void 0===Me?{}:Me).getBalance,Ae=(0,s.a)(c.rI,{fetchPolicy:"no-cache"}).data,_e=(Ae=void 0===Ae?{}:Ae).getMaximumCommitmentAge;Ce&&(t=k()(1e3*Ce.timestamp)),!xe&&_e&&J&&he(k()(J).add(_e,"second"));var ze=(0,s.a)(c.n3,{variables:{label:l.label,secret:j,commitmentTimerRunning:$},fetchPolicy:"no-cache"}).data,Le=(ze=void 0===ze?{}:ze).checkCommitment,Ue=void 0!==Le&&Le;Vt({checkCommitment:Ue,domain:l,networkId:Z,states:D.states,dispatch:T,step:R,secret:j,setSecret:w,years:F,setYears:A,timerRunning:V,setTimerRunning:H,waitUntil:re,setWaitUntil:ie,secondsPassed:B,setSecondsPassed:L,commitmentExpirationDate:xe,setCommitmentExpirationDate:he,now:t}),(0,d.Yz)((function(){J&&!re&&ie(J+1e3*u),B<u?L((function(e){return e+1})):(Ie&&V&&(S(),te("".concat(l.name," ").concat(h("register.notifications.ready")))),H(!1))}),V?1e3:null),(0,d.Yz)((function(){Ue>0?(S(),H(!0),K(!1)):K(new Date)}),$?1e3:null);var qe,Ve=parseFloat(F),He=(0,N.o6)(F),Ye=(0,s.a)(c.hy,{variables:{duration:He,label:l.label,commitmentTimerRunning:$}}),We=Ye.data,$e=(We=void 0===We?{}:We).getRentPrice,Ke=Ye.loading,Ge=(0,s.a)(c.hy,{variables:{duration:0,label:l.label,commitmentTimerRunning:$}}),Xe=Ge.data,Je=(Xe=void 0===Xe?{}:Xe).getRentPrice;Ge.loading;!J&&Ue>0&&Q(1e3*Ue),Fe&&$e&&(qe=Fe.gt($e)),J&&!re&&ie(J+1e3*u);var Qe=Ve>2419200/N.dM,et=B/u*100,tt=k()(l.expiryTime),nt=new Gt(tt,Ze),rt=nt.releasedDate,it=nt.zeroPremiumDate,at=nt.startingPremiumInUsd;if(!x)return(0,b.jsx)(ct,{domain:l});if(je||Oe)return(0,b.jsx)(b.Fragment,{});oe||(de(it),pe(nt.getTargetAmountByDaysPast(nt.getDaysPast(it)))),Ce&&(n=t.isBetween(rt,it),i=nt.getTargetAmountByDaysPast(nt.getDaysPast(t)),o=t.isBetween(rt,it));return(0,b.jsxs)(Qt,{children:["PRICE_DECISION"===R&&(0,b.jsx)(ut.Z,{name:l.label,duration:He,years:F,setYears:A,ethUsdPriceLoading:je,ethUsdPremiumPrice:i,ethUsdPrice:be,gasPrice:ke,loading:Ke,price:$e,premiumOnlyPrice:Je,underPremium:o,displayGas:!0}),n?(0,b.jsxs)(en,{children:[(0,b.jsx)("h2",{children:h("register.premiumWarning.title")}),(0,b.jsx)("p",{children:h("exponential"===Ze?"register.premiumWarning.exponentialWarningDescripiton":"register.premiumWarning.description")}),(0,b.jsx)(yt,{startDate:rt,currentDate:t,targetDate:oe,endDate:it,targetPremium:me,ethUsdPrice:be,handleTooltip:function(e){var t=e.yLabel;me!==t&&(de(nt.getTargetDateByAmount(t)),pe(t.toFixed(2)))},underPremium:o,oracle:nt,price:$e,now:t,premiumOnlyPrice:Je}),(0,b.jsx)(_t,{handlePremium:function(e){var t=e.value.replace("$","");!isNaN(t)&&parseInt(t||0)<=at?(me!==t&&(de(nt.getTargetDateByAmount(t)),pe(t)),Se(!1)):Se(!0)},targetPremium:me,name:l.name,invalid:De,targetDate:oe})]}):"",(0,b.jsx)(le,{step:R,waitTime:u,waitPercentComplete:et}),(0,b.jsx)(ot,{step:R,waitPercentComplete:et}),(0,b.jsx)(Be,{hasSufficientBalance:qe,waitTime:u,incrementStep:S,decrementStep:function(){return T("PREVIOUS")},secret:j,step:R,label:l.label,duration:He,secondsPassed:B,timerRunning:V,setTimerRunning:H,setCommitmentTimerRunning:K,commitmentTimerRunning:$,setBlockCreatedAt:Q,refetch:m,refetchIsMigrated:p,isAboveMinDuration:Qe,readOnly:f,price:$e,years:F,premium:i,ethUsdPrice:!je&&be})]})},nn=function(e){var t=(0,s.a)(c.b),n=t.data,r=t.loading,i=t.error;if(r)return(0,b.jsx)(u.Z,{withWrap:!0,large:!0});i&&console.log(i);var a=n.getMinimumCommitmentAge;return(0,b.jsx)(tn,(0,E.Z)({waitTime:a},e))},rn=n(1566);f.ZP.small(Xt||(Xt=(0,i.Z)(["\n    margin-bottom: 0;\n    flex-direction: row;\n  "]))),f.ZP.small(Jt||(Jt=(0,i.Z)(["\n    margin-bottom: 0;\n  "])));n(90882);var an=n(86187);n(41149);var sn=[{state:"ENABLE_DNSSEC",title:"Problem fetching data from DNS",displayError:!0},{state:"ENABLE_DNSSEC",title:"DNS entry does not exist.",displayError:!0},{state:"ENABLE_DNSSEC",title:"Please enable DNSSEC"},{state:"ADD_TEXT",title:"Please add text record into _ens.name.tld"},{state:"ADD_TEXT",title:"DNS Record is invalid",displayError:!0},{state:"SUBMIT_PROOF",title:"Ready to register",explainer:"*Click 'refresh' if you make changes to the domain in the DNS Registrar."},{state:"SUBMIT_PROOF",title:"DNS is out of sync",explainer:"The Controller and DNS Owner are out of sync. Click 'sync' to make the DNS Owner the Controller. Click 'refresh' if you make changes to the domain in the DNS Registrar.",outOfSync:!0},{state:"SUBMIT_PROOF",title:"Registry is out of date",explainer:"Click 'sync' to make the DNS Owner the Controller. Click 'refresh' if you make changes to the domain in the DNS Registrar.",outOfSync:!0},{state:"ADD_TEXT",title:"DNS Record does not exist",displayError:!0}],on=n(48114),ln=n(28003);var dn;n.p,n(59528);f.ZP.large(dn||(dn=(0,i.Z)(["\n    flex-direction: row;\n  "])));var cn=function(e){var t=e.initialState,n=void 0!==t&&t,i=((0,g.$)().t,(0,a.useState)(n)),s=(0,r.Z)(i,2),o=(s[0],s[1]),l=(0,a.useState)(n),d=(0,r.Z)(l,2),c=d[0],u=d[1];return c!==n&&(u(n),o(n)),null},un=n(83574);var mn,pn,gn,fn,xn,hn,vn,yn=(0,p.Z)("div",{target:"e1qt7kvb0"})({name:"1y5545",styles:"display:flex;justify-content:space-between;align-items:center;font-size:18px;color:#2b2b2b;padding:20px 35px;background:hsla(37,91%,55%,0.1);margin-bottom:20px;"}),bn=(0,p.Z)("div",{target:"e1qt7kvb1"})({name:"171h33i",styles:"width:calc(100% - 120px);padding-right:20px;"}),jn=(0,p.Z)("p",{target:"e1qt7kvb2"})({name:"1bhkadk",styles:"font-size:14px;color:#2b2b2b;font-weight:500;"}),wn=(0,p.Z)(L.U9,{target:"e1qt7kvb3"})({name:"1nxjwa5",styles:"flex:2 1 auto;"});function Zn(e){var t,n=e.domain,i=e.account,a=e.dnssecmode,o=e.refetchIsMigrated,l=e.isParentMigratedToNewRegistry,u=e.loadingIsParentMigrated,m=(0,g.$)().t,p=(0,d.Y7)(),f=p.state,x=p.actions,h=f.txHash,v=f.pending,y=f.confirmed,j=x.startPending,w=x.setConfirmed,Z=(0,s.a)(c.EZ,{variables:{address:n.owner}}),E=Z.data,O=(E=void 0===E?{}:E).isContractController,k=(Z.loading,(0,un.D)(he.QX,{variables:{name:n.name,address:n.owner},onCompleted:function(e){j(Object.values(e)[0])}})),C=(0,r.Z)(k,1)[0];t=!O&&(!u&&l&&i===n.parentOwner);var R=m("registrymigration.messages.controller"),T=(0,b.jsx)(on.c,{i18nKey:"registrymigration.messages.default",values:{parent:n.parent}}),D=(0,b.jsx)(on.c,{i18nKey:"registrymigration.messages.parentmigrate",values:{parent:n.parent}}),S=m("registrymigration.messages.dnssec");return(0,b.jsxs)(yn,{children:[(0,b.jsxs)(bn,{children:[O?R:l?a?S:T:D,"evmos"!==n.parent&&!a&&(0,b.jsx)(jn,{children:m("registrymigration.donotaccept")})]}),v&&!y&&h?(0,b.jsx)(ye.Z,{txHash:h,onConfirmed:function(){w(),o()}}):(0,b.jsx)(wn,{"data-testid":"registry-migrate-button-".concat(t?"enabled":"disabled"),onClick:t?C:function(){},type:t?"hollow-primary":"hollow-primary-disabled",href:"#",children:m("c.migrate")})]})}var En=(0,p.Z)("div",{target:"ej4i8zc0"})("display:flex;justify-content:flex-start;flex-direction:column;margin-bottom:20px;",f.ZP.small(mn||(mn=(0,i.Z)(["\n    align-items: center;\n    margin-bottom: 20px;\n  "])))," ",(function(e){return e.uneditable?f.ZP.small(pn||(pn=(0,i.Z)(["\n    flex-direction: row;\n  "]))):f.ZP.small(gn||(gn=(0,i.Z)(["flex-direction: row;"])))}),""),On=(0,p.Z)("div",{target:"ej4i8zc1"})("color:",(function(e){return e.greyed?"#CCD4DA":"2b2b2b"}),";font-size:14px;letter-spacing:0px;font-weight:600;text-transform:uppercase;flex-shrink:0;display:flex;margin-bottom:20px;",f.ZP.small(fn||(fn=(0,i.Z)(["\n    align-items: center;\n    margin-bottom: 0;\n    font-size: 16px;\n    max-width: 220px;\n    min-width: 180px;\n  "]))),""),kn=(0,p.Z)("div",{target:"ej4i8zc2"})("font-size:14px;font-weight:100;font-family:Overpass Mono;white-space:nowrap;overflow:hidden;display:inline-flex;text-overflow:ellipsis;",f.ZP.small(xn||(xn=(0,i.Z)(["\n    font-size: 18px;\n    align-items: center;\n  "])))," ",(function(e){return e.editing&&e.editable&&f.ZP.small(hn||(hn=(0,i.Z)(["\n      padding-right: 5px;\n    "])))})," a{display:flex;overflow:hidden;}"),Cn=(0,p.Z)("div",{target:"ej4i8zc3"})("display:flex;justify-content:flex-start;position:relative;flex-direction:column;width:100%;",(function(e){return e.editing&&"margin-bottom: 30px"}),";transition:0.3s;",f.ZP.small(vn||(vn=(0,i.Z)(["\n    flex-direction: row;\n    align-items: center;\n  "]))),""),Rn=n(10627),Tn=n(36222),Dn=n(34952),Sn=n(31188),Pn=n(71186),In=n(35720),Nn=n(73379);var Mn,Fn=(0,p.Z)(me.rU,{target:"e1la3kvw0"})({name:"93uuk2",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;font-family:Overpass Mono;"}),An=function(e){var t=e.children,n=e.address,r=e.className,i=e.ariaLabel;return(0,b.jsx)(Fn,{to:"/address/".concat(n),className:r,"aria-label":i,children:t})},_n=["title","titleId"];function zn(){return zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn.apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ln(e,t){var n=e.title,r=e.titleId,i=Bn(e,_n);return a.createElement("svg",zn({width:17,height:17,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Mn||(Mn=a.createElement("g",{fill:"#ADBBCD",fillRule:"evenodd"},a.createElement("path",{d:"M1.165 11.51l.009.01-1.088 3.814c-.334 1.17.334 1.867 1.533 1.532l3.795-1.107.007.007 8.316-8.315-4.256-4.257-8.316 8.316zM16.457 2.376L14.562.48c-.64-.641-1.7-.641-2.369 0l-1.588 1.588 4.264 4.264 1.588-1.588c.669-.67.669-1.728 0-2.37"}))))}var Un=a.forwardRef(Ln),qn=(n.p,(0,p.Z)(Un,{target:"etri3e90"})((function(e){return e.disabled&&"\n     g {\n       fill: #ADBBCD;\n     }\n  "})," &:hover{g{transition:0.2s;fill:#5384fe;}cursor:pointer;}",(function(e){return e.disabled&&"\n    &:hover {\n      cursor: default;\n      g {\n        fill: #ADBBCD;\n      }\n    }\n  "}),"")),Vn=n(91923),Hn=n(44680),Yn=n(33034);var Wn=(0,p.Z)("span",{target:"eb6iuf10"})({name:"1uy5cri",styles:"margin:0 5px;position:relative;&:hover{cursor:pointer;}"}),$n=(0,p.Z)("span",{target:"eb6iuf11"})({name:"6xix1i",styles:"font-size:16px;"});var Kn,Gn,Xn,Jn,Qn=function(e){var t=e.value,n=e.iconColour,i=(0,a.useState)(!1),s=(0,r.Z)(i,2),o=s[0],l=s[1];return(0,b.jsx)(Wn,{children:o?(0,b.jsx)($n,{children:"Copied"}):(0,b.jsx)(Yn.CopyToClipboard,{text:t,onCopy:function(){l(!0),setTimeout((function(){return l(!1)}),1e3)},children:(0,b.jsx)("svg",{width:"13",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsxs)("g",{fill:n||"#5384FE",fillRule:"nonzero",children:[(0,b.jsx)("path",{d:"M11.937 16H.968C.444 16 0 15.56 0 15.004V.882C0 .392.381 0 .857 0h6.778c.38 0 .682.31.682.702a.687.687 0 01-.682.702h-6.27V14.63h10.27V5.176c0-.392.302-.703.682-.703.381 0 .683.31.683.703v9.746c-.016.588-.492 1.078-1.063 1.078z"}),(0,b.jsx)("path",{d:"M7.926 6a.864.864 0 01-.64-.259C7.101 5.551 7 5.275 7 4.947V.907h.724H7c0-.155 0-.638.454-.845.169-.07.505-.156.875.207l4.376 4.212c.27.259.37.621.236.95-.118.327-.438.534-.825.534L7.926 6zm.504-3.625v2.14l2.222-.017L8.43 2.375z"})]})})})})};var er=(0,p.Z)(Hn.Z,{target:"em9ajyt0"})({name:"1r2f04i",styles:"margin-bottom:10px;"}),tr=(0,p.Z)(An,{target:"em9ajyt1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),nr=(0,p.Z)("span",{target:"em9ajyt2"})({name:"1uaoyub",styles:"display:block;align-items:center;overflow:hidden;text-overflow:ellipsis;"}),rr=(0,p.Z)(Vn.Z,{target:"em9ajyt3"})({name:"6su6fj",styles:"flex-shrink:0;"}),ir=(0,p.Z)(L.Co,{target:"em9ajyt4"})({name:"1s16w59",styles:"width:130px;"}),ar=(0,p.Z)("span",{target:"em9ajyt5"})("color:#f6412d;margin-right:auto;margin-bottom:1em;",f.ZP.small(Kn||(Kn=(0,i.Z)(["\n    margin-bottom: 0em;\n  "]))),""),sr=(0,p.Z)(En,{target:"em9ajyt6"})("flex-direction:column;min-height:30px;background:",(function(e){var t=e.editing;return"warning"===e.backgroundStyle?"transparent":t?"#F0F6FA":"transparent"}),";padding:",(function(e){return e.editing?"20px":"0"}),";",(function(e){return e.editing?"margin-bottom: 20px;":""})," transition:0.3s;",(function(e){return e.editing&&f.ZP.small(Gn||(Gn=(0,i.Z)([" flex-direction: column;"])))}),";"),or=(0,p.Z)(kn,{target:"em9ajyt7"})((function(e){return e.expiryDate&&"\n      overflow: inherit;\n      display: flex;\n       align-items: flex-start;\n      flex-direction: column;\n  "})," ",(function(e){return e.expiryDate&&f.ZP.medium(Xn||(Xn=(0,i.Z)(["\n      margin-top: -16px;\n      align-items: center;\n      flex-direction: row;\n  "])))}),""),lr=(0,p.Z)("span",{target:"em9ajyt8"})({name:"lvyu5j",styles:"margin-right:10px;"}),dr=(0,p.Z)(Dn.ww.div,{target:"em9ajyt9"})({name:"8atqhb",styles:"width:100%;"}),cr=(0,p.Z)(jt.Z,{target:"em9ajyt10"})({name:"uewl2b",styles:"margin-bottom:20px;"}),ur=(0,p.Z)(Dn.ww.div,{target:"em9ajyt11"})("margin-left:0;margin-top:20px;",f.ZP.small(Jn||(Jn=(0,i.Z)(["\n     margin-left: auto;\n  align-self: center;\n  margin-top: -10px;\n  "]))),""),mr=(0,p.Z)(ye.Z,{target:"em9ajyt12"})({name:"r4f1vu",styles:"position:absolute;right:10px;top:50%;transform:translate(0,-65%);"}),pr=(0,p.Z)("a",{target:"em9ajyt13"})({name:"1sdy15s",styles:"display:flex;padding-right:20px;&:hover{cursor:pointer;}"}),gr=(0,p.Z)(ut.Z,{target:"em9ajyt14"})(""),fr=(0,p.Z)("div",{target:"em9ajyt15"})({name:"1m9e5lb",styles:"display:flex;justify-content:flex-end;align-items:center;flex-wrap:wrap;"}),xr=(0,p.Z)("span",{target:"em9ajyt16"})({name:"smvb43",styles:"color:#f6412d;margin-left:3em;margin-right:auto;"}),hr=Dn.ww.custom(rn.ZP);function vr(e){var t=e.keyName,n=e.t,r=e.isExpiredRegistrant;switch(t){case"Resolver":case"Controller":return n("singleName.tooltips.detailsItem.".concat(t));case"registrant":return n(r?"singleName.tooltips.detailsItem.".concat(t,"Expired"):"singleName.tooltips.detailsItem.".concat(t));default:return"You can only make changes if you are the controller and are logged into your wallet"}}function yr(e,t,n){var r=n.newValue,i=n.presetValue,a=n.updateValue,s=n.isValid,o=n.isInvalid,l=n.name,d=n.ethUsdPriceLoading,c=n.ethUsdPrice,u=n.years,m=n.setYears,p=n.duration,g=n.expirationDate,f=n.rentPriceLoading,x=n.rentPrice,h=n.placeholder;if("Expiration Date"===e)return(0,b.jsx)(gr,{name:l.split(".")[0],duration:p,years:u,setYears:function(e){m(e),a((0,N.p6)(g))},ethUsdPriceLoading:d,ethUsdPrice:c,expirationDate:g,loading:f,price:x});var v=(0,In.OL)(),y="local"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GRAPH_NODE_URI:"https://graph.evmos.domains/subgraphs/name/graphprotocol/ens"}.REACT_APP_STAGE?"http://localhost:8545":window.ethereum||window.web3;if("address"===t&&"Resolver"!==e){var j={presetValue:i||"",provider:y,onResolve:function(e){var t=e.address;a(t||"")},ensAddress:v};return(0,b.jsx)(er,(0,E.Z)({},j))}return(0,b.jsx)(cr,{value:r,onChange:function(e){return a(e.target.value.trim())},valid:s,invalid:o,placeholder:"Resolver"===e?h:"",large:!0})}var br=function(e){e.isExpired;var t,n,i=e.showLabel,o=void 0===i||i,u=e.editButtonType,m=void 0===u?"primary":u,p=e.backgroundStyle,f=void 0===p?"blue":p,x=e.keyName,h=e.value,v=e.type,y=e.mutation,j=e.mutationButton,w=e.editButton,Z=e.domain,E=e.variableName,O=e.refetch,k=(e.confirm,e.copyToClipboard),R=(0,g.$)().t,T=(0,d.Y7)(),D=T.state,S=T.actions,P=(0,a.useState)(""),I=(0,r.Z)(P,2),M=I[0],F=(I[1],D.editing),A=D.newValue,_=D.txHash,z=D.pending,B=D.confirmed,L=S.startEditing,U=S.stopEditing,q=S.updateValue,V=S.startPending,H=S.setConfirmed,Y=(0,a.useState)(1),W=(0,r.Z)(Y,2),$=W[0],K=W[1];"Expiration Date"===x&&(t=(0,N.o6)($),n=new Date(new Date(h).getTime()+1e3*t));var G=(0,s.a)(c.GH,{skip:"Expiration Date"!==x}),X=G.data,J=void 0===X?{}:X,Q=G.loading,ee=null===J||void 0===J?void 0:J.getEthPrice,te=(0,s.a)(c.hy,{variables:{duration:t,label:Z.label},skip:"Expiration Date"!==x}),ne=te.data,re=(ne=void 0===ne?{}:ne).getRentPrice,ie=te.loading,ae="Resolver"===x&&l.iK.isAddress(A)&&A!==l.VM,se=(0,s.a)(c.EZ,{variables:{address:A},skip:!ae}).data,oe=(se=void 0===se?{}:se).isContractController,le=function(e,t,n){switch(e){case"Expiration Date":return!0;case"Resolver":return!!n;default:return l.iK.isAddress(t)&&t!==l.VM}}(x,A,oe),de=!le&&A.length>0,ce=(0,C.m)(),ue=(0,l.kp)(Z,ce),me=!Z.available&&Z.registrant===ce,pe=["Resolver"].includes(x),ge=R("singleName.resolver.placeholder"),ye=(0,un.D)(y,{onCompleted:function(e){var t=Object.values(e)[0];V(t),"Expiration Date"===x&&(0,xe.F2)({labels:[Z.label],transactionId:t,type:"renew",price:new fe.Z("".concat(re._hex)).toEth().mul(ee).toFixed(2),years:$})}}),be=(0,r.Z)(ye,1)[0],je=(0,un.D)(function(e,t){switch(e){case"Controller":return t?he.c$:he.ve;case"Resolver":return he.WT;default:return he.c$}}(x,ue),{variables:{name:Z.name,address:l.VM},onCompleted:function(e){V(Object.values(e)[0])}}),we=(0,r.Z)(je,1)[0],Ze=(0,s.a)(c.I6,{fetchPolicy:"network-only"}),Ee=Ze.data,Oe=Ze.loading;return(0,b.jsxs)(sr,{editing:F,backgroundStyle:f,children:[(0,b.jsxs)(Cn,{editing:F,children:[o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(On,{children:R("c.".concat(x))}),(0,b.jsxs)(or,{editing:F,editable:!0,"data-testid":"details-value-".concat(x.toLowerCase()),expiryDate:"date"===v,children:["address"===v?(0,b.jsxs)(tr,{address:h,ariaLabel:R("c.".concat(x)),children:[(0,b.jsx)(Nn.K,{address:h,imageSize:24}),"Resolver"===x&&"oldcontent"===Z.contentType?(0,b.jsx)(ve.Z,{text:'<p>This resolver is outdated and does not support the new content hash.<br/>Click the "Set" button to update  to the latest public resolver.</p>',position:"top",border:!0,children:function(e){var t=e.tooltipElement,n=e.showTooltip,r=e.hideTooltip;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(rr,{onMouseOver:function(){n()},onMouseLeave:function(){r()}}),t]})}}):null,(0,b.jsx)(nr,{children:h})]}):"date"===v?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(lr,{tabIndex:0,"aria-label":"".concat(R("c.".concat(x))).concat((0,N.p6)(h)),children:(0,N.p6)(h)})}):h,k&&(0,b.jsx)(Qn,{value:h})]})]}),F?null:z&&!B?(0,b.jsx)(mr,{txHash:_,onConfirmed:function(){"registrant"===x?(0,Sn.aO)({refetch:O,interval:300,keyToCompare:"registrant",prevData:{singleName:Z},getterString:"singleName"}):O(),H()}}):(0,b.jsx)(ur,{initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:0},children:w?(0,b.jsx)(ir,{type:m,onClick:L,"data-testid":"edit-".concat(x.toLowerCase()),children:w}):(0,b.jsx)(qn,{onClick:L,"data-testid":"edit-".concat(x.toLowerCase())})}),F&&pe&&("Controller"===x||"Resolver"===x)?(0,b.jsx)(ur,{children:(0,b.jsx)(Pn.Z,{"data-testid":"delete-".concat(v.toLowerCase()),onClick:function(e){e.preventDefault(),we()}})}):""]}),(0,b.jsx)(Dn.M_,{children:F&&(0,b.jsxs)(Dn.ww.div,{initial:{height:0,width:0,opacity:0},animate:{height:"auto",width:"100%",opacity:1},exit:{height:0,width:0,opacity:0},transition:{ease:"easeOut",duration:.3},children:[(0,b.jsx)(dr,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{ease:"easeOut",duration:.3},children:yr(x,v,{newValue:A,updateValue:q,presetValue:M,isValid:le,isInvalid:de,years:$,name:Z.name,setYears:K,ethUsdPrice:ee,ethUsdPriceLoading:Q,duration:t,expirationDate:n,rentPriceLoading:ie,rentPrice:re,placeholder:ge})}),(0,b.jsxs)(fr,{children:["Expiration Date"!==x||me?"":(0,b.jsxs)(ar,{children:["*",R("singleName.expiry.cannotown")]}),"Resolver"===x&&(0,b.jsxs)(b.Fragment,{children:[ae&&!oe&&(0,b.jsx)(xr,{"data-testid":"resolver-address-warning",children:R("singleName.resolver.resolverAddressWarning")}),!Oe&&(0,b.jsx)(pr,{onClick:function(e){e.preventDefault(),q(Ee.publicResolver.address)},children:R("singleName.resolver.publicResolver")})]}),(0,b.jsx)(hr,{stopEditing:U,mutation:function(){var e=function(e,t){var n=t.domain,r=t.variableName,i=t.newValue,a=t.duration;return"Expiration Date"===e?{label:n.name.split(".")[0],duration:a}:(0,Tn.Z)({name:n.name},r||"address",i)}(x,{domain:Z,variableName:E,newValue:A,duration:t});be({variables:e})},value:"Expiration Date"===x?(0,N.p6)(h):h,newValue:"Expiration Date"===x?(0,N.p6)(n):A,mutationButton:j,confirm:!0,isValid:le})]})]})})]})};function jr(e){var t=e.editButton,n=e.value,i=e.keyName,a=e.type,s=e.deedOwner,o=e.isDeedOwner,l=e.domain,d=e.isExpiredRegistrant,c=e.copyToClipboard,u=(0,g.$)().t;if(0===parseInt(n,16)){var m=function(e){var t=e.keyName,n=e.parent,i=e.deedOwner,a=e.isDeedOwner,s=e.t,o=function(e,t){switch(e){case"Resolver":return[t("singleName.messages.noresolver"),"message"];case"Controller":case"registrant":return[t("singleName.messages.noowner"),"message"];default:return["No 0x message set","message"]}}(t,s),l=(0,r.Z)(o,2),d=l[0],c=l[1];return"Owner"===t&&"eth"===n&&0!==parseInt(i,16)&&(d=s("singleName.messages.noresolver"),a&&(d+=s("singleName.messages.notfinalise"))),[d,c]}({keyName:i,parent:l.parent,deedOwner:s,isDeedOwner:o,t:u}),p=(0,r.Z)(m,2);n=p[0],a=p[1]}return(0,b.jsx)(sr,{children:(0,b.jsxs)(Cn,{children:[(0,b.jsx)(On,{children:u("c.".concat(i))}),(0,b.jsxs)(or,{"data-testid":"details-value-".concat(i.toLowerCase()),children:["address"===a?(0,b.jsxs)(tr,{address:n,ariaLabel:u("c.".concat(i)),children:[(0,b.jsx)(Nn.K,{address:n,imageSize:24}),n]}):"date"===a?(0,N.p6)(n):n,c&&(0,b.jsx)(Qn,{value:n})]}),(0,b.jsx)(ur,{children:t?(0,b.jsx)(ve.Z,{text:vr({keyName:i,t:u,isExpiredRegistrant:d}),position:"top",border:!0,warning:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,a=e.hideTooltip;return(0,b.jsxs)(ir,{onMouseOver:function(){r()},onMouseLeave:function(){a()},"data-testid":"edit-".concat(i.toLowerCase()),type:"disabled",children:[t,n]})}}):(0,b.jsx)(qn,{"data-testid":"edit-".concat(i.toLowerCase()),disabled:!0})})]})})}var wr=function(e){return e.canEdit?(0,b.jsx)(br,(0,E.Z)({},e)):(0,b.jsx)(jr,(0,E.Z)({},e))};var Zr=(0,p.Z)("span",{target:"e1dzsw9j0"})({name:"105ef1v",styles:"color:white;background:#c7d3e3;border-radius:6px;border:1px solid #ededed;padding:0 2px;"}),Er=function(){return(0,b.jsx)(Zr,{children:"You"})};var Or=(0,p.Z)(L.Co,{target:"e1pkge6c0"})({name:"1s16w59",styles:"width:130px;"}),kr=(0,p.Z)("div",{target:"e1pkge6c1"})({name:"12efcmn",styles:"position:absolute;"});var Cr=function(e){var t=e.name,n=e.parentOwner,r=e.refetch,i=e.actionText;console.log("SubmitProof",{name:t,parentOwner:n,refetch:r,actionText:i});var a=(0,d.Y7)(),s=a.state,o=a.actions,l=s.txHash,c=s.pending,u=s.confirmed,m=o.startPending;return(0,b.jsx)(kr,{children:c&&!u&&l?(0,b.jsx)(ye.Z,{txHash:l,onConfirmed:function(){r()}}):(0,b.jsx)(ge.m,{mutation:he.cH,onCompleted:function(e){m(Object.values(e)[0])},children:function(e){return(0,b.jsx)(Or,{onClick:function(){e({variables:{name:t,parentOwner:n}})},type:"primary",children:i})}})})},Rr=n(52891),Tr=n.n(Rr),Dr=n(93090),Sr=n.n(Dr),Pr=n(79802),Ir=n(50996),Nr=n(90946);var Mr=(0,p.Z)(jt.Z,{target:"e1bykrvu0"})({name:"8atqhb",styles:"width:100%;"}),Fr=function(e){var t=e.updateValue,n=e.isValid,r=e.isInvalid,i=e.dataType,a=e.contentType,s=e.placeholder,o=e.newValue;return(0,b.jsx)(Mr,{warning:"content"===i&&"oldcontent"===a,valid:n,invalid:r,placeholder:s||(0,x.ph)(i,a),onChange:function(e){t((0,x.Or)(a,e.target.value))},value:o})},Ar=n(78932),_r=n(38128),zr=n(4224),Br=n(91535);var Lr,Ur,qr,Vr,Hr,Yr=(0,p.Z)("div",{target:"er5bi6i0"})({name:"1hskriy",styles:"width:250px;"}),Wr={control:function(e){return(0,E.Z)((0,E.Z)({},e),{},{backgroundColor:"white",textTransform:"lowercase",fontWeight:"700",fontSize:"12px",color:"#2B2B2B",letterSpacing:"0.5px"})},option:function(e,t){t.data;var n=t.isDisabled,r=(t.isFocused,t.isSelected);return(0,E.Z)((0,E.Z)({},e),{},{backgroundColor:"white",textTransform:"lowercase",fontWeight:r?700:500,fontSize:"12px",letterSpacing:"0.5px",color:n?"#ccc":r?"black":"#666",cursor:n?"not-allowed":"default"})},input:function(e){return(0,E.Z)({},e)},placeholder:function(e){return(0,E.Z)({},e)},singleValue:function(e,t){t.data;return(0,E.Z)({},e)}},$r=function(e){(0,Ar.Z)(n,e);var t=(0,_r.Z)(n);function n(){return(0,Wt.Z)(this,n),t.apply(this,arguments)}return(0,$t.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedOption,n=e.handleChange,r=e.className,i=e.addNewKey?Br.ZP:zr.ZP;return(0,b.jsx)(Yr,{className:r,children:(0,b.jsx)(i,(0,E.Z)((0,E.Z)({isHidden:!1,value:t,onChange:n},this.props),{},{styles:Wr,theme:function(e){return(0,E.Z)((0,E.Z)({},e),{},{borderRadius:10,colors:(0,E.Z)((0,E.Z)({},e.colors),{},{text:"orangered",primary25:"blue",primary:"#cccccc"})})}}))})}}]),n}(a.Component),Kr=$r;var Gr=(0,p.Z)("span",{target:"ej3zq3e1"})("font-family:Overpass;font-weight:bold;font-size:14px;color:#5284ff;letter-spacing:0.58px;text-align:center;&:hover{cursor:pointer;}",(function(e){return e.pending&&"\n    color: #cccccc;\n    pointer-events: none;\n    \n    &:hover {\n      cursor: initial;\n    }\n  "}),""),Xr=(0,p.Z)(Kr,{target:"ej3zq3e2"})("margin-right:20px;flex-direction:row;margin-bottom:10px;width:100%;",f.ZP.small(Lr||(Lr=(0,i.Z)(["\n    margin-bottom: 0px;\n    max-width: 150px;\n  "]))),""),Jr=(0,p.Z)("h3",{target:"ej3zq3e3"})({name:"h6kmv5",styles:"font-family:Overpass;font-weight:700;font-size:12px;color:#adbbcd;letter-spacing:0.5px;text-transform:uppercase;margin:0;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;"}),Qr=(0,p.Z)("div",{target:"ej3zq3e4"})({name:"g62ntm",styles:"background:#f0f6fa;"}),ei=(0,p.Z)("form",{target:"ej3zq3e5"})({name:"1ruxp1v",styles:"padding:20px;"}),ti=(0,p.Z)("div",{target:"ej3zq3e6"})("display:flex;justify-content:space-between;margin-bottom:20px;flex-direction:column;",f.ZP.small(Ur||(Ur=(0,i.Z)(["\n    flex-direction: row;\n  "]))),""),ni=(f.ZP.medium(qr||(qr=(0,i.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),f.ZP.medium(Vr||(Vr=(0,i.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),f.ZP.small(Hr||(Hr=(0,i.Z)(["\n    margin-left: 20px;\n    margin-bottom: 20px;\n    max-width: 150px;\n  "]))),(0,p.Z)("div",{target:"ej3zq3e10"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"})),ri=Nr.slice().sort().map((function(e){return{label:e,value:e}})),ii=Pr.Z.slice().sort().map((function(e){return{label:e,value:e}})),ai=(0,l.Gh)(function(){var e=(0,de.Z)(ue().mark((function e(t,n,r,i,a){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return a(!0),e.next=5,(0,x.uO)({key:null===t||void 0===t?void 0:t.value,value:n,contractFn:null===r||void 0===r?void 0:r.contractFn,addr:i.addr});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),500);function si(e){var t=e.domain,n=e.emptyRecords,i=e.editing,s=e.startEditing,o=e.stopEditing,l=e.updateRecord,c=e.pending,u=(0,g.$)().t,m=(0,d.Y7)(),p=m.state,f=m.actions,h=p.newValue,v=f.updateValue,y=(0,a.useState)(null),j=(0,r.Z)(y,2),w=j[0],Z=j[1],E=(0,a.useState)(null),O=(0,r.Z)(E,2),k=O[0],C=O[1],R=(0,a.useState)(!1),T=(0,r.Z)(R,2),D=T[0],S=T[1],P=(0,a.useState)(!1),I=(0,r.Z)(P,2),N=I[0],M=I[1];w&&w.value&&w.value,t.contentType,k&&k.value;return function(e,t,n,r,i,s){var o=(0,a.useRef)();o.current=t,(0,a.useEffect)((function(){t&&new Promise((0,de.Z)(ue().mark((function a(){var l;return ue().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ai(e,t,n,r,i);case 2:l=a.sent,t===o.current&&(s(l),i(!1));case 4:case"end":return a.stop()}}),a)}))))}),[t])}(k,h,w,t,M,S),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Jr,{children:[u("singleName.record.title"),i?(0,b.jsx)(Gr,{onClick:o,pending:c,children:"Close Add/Edit Record"}):(0,b.jsx)(Gr,{onClick:s,pending:c,children:"Add/Edit Record"})]}),i&&(0,b.jsxs)(ei,{onSubmit:function(e){e.preventDefault()},children:[(0,b.jsxs)(ti,{children:[(0,b.jsx)(Xr,{selectedOption:w,handleChange:function(e){"setContenthash"===e.contractFn?C("content"):C(null),Z(e)},placeholder:"Add record",options:n}),"coins"===(null===w||void 0===w?void 0:w.value)&&(0,b.jsx)(Xr,{selectedRecord:k,handleChange:C,placeholder:"Coin",options:ii}),"textRecords"===(null===w||void 0===w?void 0:w.value)&&(0,b.jsx)(Xr,{selectedRecord:k,handleChange:C,placeholder:"Key",options:ri,addNewKey:!0}),(null===w||void 0===w?void 0:w.value)&&(0,b.jsx)(Fr,{newValue:h||"",dataType:w?w.value:null,contentType:null===k||void 0===k?void 0:k.label,updateValue:v,isValid:D&&!N,isInvalid:!D&&!N,placeholder:(0,x.ph)(w.contractFn,null===k||void 0===k?void 0:k.label)})]}),(0,b.jsx)(ni,{children:(0,b.jsx)(L.Co,{"data-testid":"save-record",type:D?"primary":"disabled",disabled:!D&&!N,onClick:function(){l({key:(null===k||void 0===k?void 0:k.value)||"CONTENT",value:h,contractFn:null===w||void 0===w?void 0:w.contractFn}),function(e,t,n){e(null),t(null),n(null)}(Z,C,v),S(!1),M(!1)},children:"Save"})})]})]})}var oi=function(e){var t=e.canEdit,n=(0,g.$)().t;return t?(0,b.jsx)(Qr,{children:(0,b.jsx)(si,(0,E.Z)({},e))}):(0,b.jsx)(Qr,{children:(0,b.jsx)(Jr,{children:n("singleName.record.title")})})};var li,di=(0,p.Z)("div",{target:"exgwpqe0"})({name:"1c2jqxj",styles:"display:block;align-items:center;a{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;.external-link{margin-left:5px;transition:0.1s;opacity:0;}&:hover{.external-link{opacity:1;}}}"}),ci=(0,p.Z)("div",{target:"exgwpqe1"})({name:"1h2ruwl",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"}),ui=(0,p.Z)("div",{target:"exgwpqe2"})({name:"1s6m2d8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#ccc;"}),mi=(0,p.Z)("div",{target:"exgwpqe3"})({name:"15k7fiz",styles:"display:inline-flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"}),pi=(0,p.Z)("img",{target:"exgwpqe4"})({name:"1sqapvb",styles:"width:180px;margin:1em 0;"}),gi=(0,p.Z)("span",{target:"exgwpqe5"})({name:"1iafl4k",styles:"background:rgb(66,224,104);color:white;border-radius:5px;padding:0 5px;margin-right:5px;"}),fi=function(e){var t,n=e.textKey,r=e.value,i=e.name,a=Yt().network;switch(n){case"eth.ens.delegate":case"url":t="".concat(r);break;case"com.twitter":t="twitter.com/".concat(r);break;case"com.github":t="github.com/".concat(r)}t=(0,l.dH)(t),"email"===n&&(t="mailto:".concat(r));var s=(0,d.F2)(n,i,a,r),o=s.is_owner,c=s.host_meta,u=s.image,m=(0,l.iP)(r);return t&&!m?(0,b.jsxs)(di,{children:[(0,b.jsxs)("a",{target:"_blank",href:t,rel:"noopener noreferrer","aria-label":n,children:[r,(0,b.jsx)("img",{src:Rn.Z,className:"external-link",alt:"external-link-svg"})]}),(0,b.jsx)(Qn,{value:r})]}):u&&!m?(0,b.jsxs)("div",{children:[(0,b.jsxs)(di,{children:[o&&(0,b.jsx)(gi,{children:"Owner"}),(0,b.jsxs)("a",{target:"_blank",href:null===c||void 0===c?void 0:c.reference_url,rel:"noopener noreferrer","aria-label":n,children:[r,(0,b.jsx)("img",{src:Rn.Z,className:"external-link",alt:"external-link-svg"})]}),(0,b.jsx)(Qn,{value:r})]}),(0,b.jsx)(pi,{src:u,alt:"avatar"})]}):(0,b.jsx)(mi,{children:m?(0,b.jsx)(ui,{children:"Not set"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ci,{"data-testid":"unlinked-value-".concat(n),tabIndex:0,"aria-label":n,children:r}),(0,b.jsx)(Qn,{value:r})]})})};var xi,hi,vi;f.ZP.small(li||(li=(0,i.Z)(["\n    margin-left: 20px;\n    max-width: 175px;\n  "]))),n(22680),n(96517);var yi,bi,ji;f.ZP.small(xi||(xi=(0,i.Z)(["\n    text-align: center;\n    margin-top: 10px;\n  "]))),f.ZP.small(hi||(hi=(0,i.Z)(["\n    font-size: 20px;\n    margin-bottom: 12px;\n  "]))),f.ZP.small(vi||(vi=(0,i.Z)(["\n    font-size: 20px;\n    margin-bottom: 8px;\n  "])));f.ZP.large(yi||(yi=(0,i.Z)(["\n    width: 400px;\n  "]))),f.ZP.small(bi||(bi=(0,i.Z)(["\n    padding: 4px;\n  "]))),f.ZP.small(ji||(ji=(0,i.Z)(["\n    font-size: 18px;\n  "])));n.p;var wi,Zi,Ei,Oi,ki,Ci,Ri,Ti,Di,Si=(0,p.Z)("a",{target:"e1jlbbtp0"})({name:"3wnzc5",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;svg{margin-left:10px;transition:0.1s;opacity:0;}&:hover{svg{opacity:1;}}"}),Pi=function(e){var t=e.value,n=e.contentType;e.domain;if("oldcontent"===n||!t)return(0,b.jsx)("div",{children:t});var r,i,a=(0,an.getProtocolType)(t),s=null===a||void 0===a?void 0:a.protocolType,o=null===a||void 0===a?void 0:a.decoded;return"ipfs"===s?(r="https://dweb.link/ipfs/".concat(o),i="ipfs://".concat(o)):"ipns"===s?(r="https://dweb.link/ipns/".concat(o),i="ipns://".concat(o)):"bzz"===s?(r="https://gateway.ethswarm.org/bzz/".concat(o),i="bzz://".concat(o)):"onion"===s||"onion3"===s?(r="http://".concat(o,".onion"),i="onion://".concat(o)):"sia"===s?(r="https://siasky.net/".concat(o),i="sia://".concat(o)):"arweave"===s?(r="https://arweave.net/".concat(o),i="arweave://".concat(o)):console.warn("Unsupported protocol ".concat(s)),(0,b.jsxs)(Si,{target:"_blank",href:r,"aria-label":n,children:[i,(0,b.jsx)(Rn.r,{})]})};var Ii=(0,p.Z)(En,{target:"e1c9c6p31"})((function(e){return!e.hasRecord&&"display: none;"})," ",(function(e){return e.noBorder?"":"border-top: 1px dashed #d3d3d3;"})," display:block;padding:20px;flex-direction:column;",f.ZP.small(wi||(wi=(0,i.Z)(["\n    align-items: flex-start;\n  "])))," background:",(function(e){e.editing;return"white"}),";",f.ZP.medium(Zi||(Zi=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n  "]))),""),Ni=(0,p.Z)("div",{target:"e1c9c6p32"})("display:grid;width:100%;justify-content:flex-start;align-items:center;position:relative;",f.ZP.medium(Ei||(Ei=(0,i.Z)(["\n    display: flex;\n  "]))),""),Mi=(0,p.Z)(On,{target:"e1c9c6p33"})("font-size:12px;margin-bottom:0;max-width:100%;margin-right:10px;",f.ZP.medium(Oi||(Oi=(0,i.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),""),Fi=(0,p.Z)("div",{target:"e1c9c6p34"})("font-family:Overpass Mono;font-weight:500;font-size:14px;color:#adbbcd;letter-spacing:0;",f.ZP.small(ki||(ki=(0,i.Z)(["\n    font-size: 16px;\n    max-width: 220px;\n    min-width: 180px;\n  "]))),""),Ai=(0,p.Z)(kn,{target:"e1c9c6p35"})("font-size:14px;font-family:Overpass Mono;margin-top:1em;",f.ZP.small(Ci||(Ci=(0,i.Z)(["\n      margin-top: 0;\n  "]))),"");f.ZP.medium(Ri||(Ri=(0,i.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),f.ZP.small(Ti||(Ti=(0,i.Z)(["\n    margin-left: auto;\n  "]))),f.ZP.small(Di||(Di=(0,i.Z)(["\n    margin-top: 0;\n    margin-left: auto;\n  "])));var _i,zi,Bi,Li,Ui,qi,Vi,Hi=(0,p.Z)(jt.Z,{target:"e13huqhw0"})("width:100%;",(function(e){return e.hasBeenUpdated?"\n    input {\n      border: #5284FF solid 1px;\n    }\n    \n  ":""}),""),Yi=function(e){var t=e.onChange,n=e.value,r=e.isValid,i=e.isInvalid,a=e.dataType,s=e.contentType,o=e.placeholder,d=e.hasBeenUpdated,c=e.testId;return(0,b.jsx)(Hi,{hasBeenUpdated:d,warning:"content"===a&&"oldcontent"===s,valid:r&&d,value:n==l.VM?"":n,invalid:i,placeholder:o,onChange:t,testId:c})};var Wi=(0,p.Z)(Pn.Z,{target:"erohma40"})({name:"1l2t2o1",styles:"align-self:center;margin-left:10px;margin-right:10px;"}),$i=(0,p.Z)(Ii,{target:"erohma41"})("display:flex;flex-direction:column;border-radius:5px;width:100%;padding 0;",f.ZP.medium(_i||(_i=(0,i.Z)(["\n    flex-direction: row;\n  "])))," ",(function(e){return e.editing&&f.ZP.medium(zi||(zi=(0,i.Z)(["\n    flex-direction: column;\n  "])))}),""),Ki=(0,p.Z)("div",{target:"erohma42"})((function(e){return e.noRecords?"display: none":"display:flex"}),";flex-direction:column;padding:20px;",f.ZP.xLarge(Bi||(Bi=(0,i.Z)(["\n    flex-direction: row;\n    align-items: flex-start;\n  "]))),""),Gi=(0,p.Z)("div",{target:"erohma43"})("display:flex;flex-direction:column;width:100%;",f.ZP.xLarge(Li||(Li=(0,i.Z)(["\n    width: calc(100% - 200px);\n  "]))),";"),Xi=(0,p.Z)(Mi,{target:"erohma44"})("margin-bottom:20px;",f.ZP.small(Ui||(Ui=(0,i.Z)(["\n    margin-bottom: 20px;\n  "]))),""),Ji=(0,p.Z)("div",{target:"erohma45"})("display:flex;flex-direction:column;",f.ZP.medium(qi||(qi=(0,i.Z)(["\n    flex-direction: row;\n    margin-bottom: 20px;\n  "]))),""),Qi=(0,p.Z)(Ni,{target:"erohma46"})("display:grid;width:100%;grid-template-columns:1fr;align-items:flex-start;overflow:hidden;",(function(e){return e.hasBeenUpdated?"border: solid 1px red;":""})," ",f.ZP.small(Vi||(Vi=(0,i.Z)(["\n    grid-template-columns: 150px 1fr;\n  "]))),""),ea=(0,p.Z)("span",{target:"erohma47"})({name:"tokvmb",styles:"color:red;"}),ta=function(e,t){return!!e.find((function(e){return e.key===t}))},na=function(e){var t=e.editing,n=e.domain,r=e.validator,i=e.changedRecords,a=e.updateRecord,s=e.record,o=e.placeholder,d=e.validating,c=s.key,u=s.value,m=r(s),p=d(s);return(0,b.jsx)($i,{editing:t,hasRecord:!0,noBorder:!0,children:t?(0,b.jsxs)(Qi,{editing:t,children:[(0,b.jsx)(Fi,{children:c}),(0,b.jsx)(Yi,{testId:"".concat(c,"-record-input"),hasBeenUpdated:ta(i,c),type:"text",isInvalid:!m&&!p,onChange:function(e){a((0,E.Z)((0,E.Z)({},s),{},{value:(0,x.Or)(c,e.target.value)}))},value:u===l.VM?"":u,isValid:m&&!p,placeholder:o}),(0,b.jsx)(Wi,{"data-testid":"".concat(c,"-record-delete"),onClick:function(){a((0,E.Z)((0,E.Z)({},s),{},{value:""}))}})]}):(0,b.jsxs)(Qi,{children:[(0,b.jsx)(Fi,{children:c}),(0,b.jsx)(fi,{textKey:c,value:u,name:null===n||void 0===n?void 0:n.name})]})})};function ra(e){var t=e.validator,n=e.setHasRecord,r=e.hasRecord,i=e.canEdit,s=e.editing,o=e.setUpdatedRecords,l=e.recordType,d=e.changedRecords,c=e.updateRecord,u=e.record,m=e.domain,p=e.validating,g=u.key,f=u.value;return(0,a.useEffect)((function(){f&&0!==parseInt(f,16)&&!r&&n(!0)}),[f,r,n]),i?(0,b.jsx)(na,(0,E.Z)((0,E.Z)({},e),{},{validator:t,validating:p,editing:s,setUpdatedRecords:o,changedRecords:d,recordType:l,domain:m,updateRecord:c,record:u})):(0,b.jsx)(ia,{textKey:g,value:null===u||void 0===u?void 0:u.value,domain:m})}function ia(e){var t=e.textKey,n=e.value,r=e.remove,i=e.domain;return(0,b.jsxs)(Ji,{children:[(0,b.jsx)(Fi,{children:t}),r?(0,b.jsx)(ea,{children:"Delete Record"}):(0,b.jsx)(fi,{textKey:t,value:n,name:null===i||void 0===i?void 0:i.name})]})}function aa(e){var t=e.editing,n=e.canEdit,i=e.records,s=e.validator,o=e.title,l=e.setUpdatedRecords,d=e.changedRecords,c=e.recordType,u=e.updateRecord,m=e.domain,p=e.validating,g=(0,a.useState)(!1),f=(0,r.Z)(g,2),x=f[0],h=f[1];return(0,b.jsxs)(Ki,{hasRecord:x,children:[(0,b.jsx)(Xi,{children:o}),(0,b.jsx)(Gi,{children:null===i||void 0===i?void 0:i.map((function(e){return(0,b.jsx)(ra,{editing:t,dataValue:e.value,validator:s,validating:p,setHasRecord:h,hasRecord:x,canEdit:n,setUpdatedRecords:l,changedRecords:d,recordType:c,domain:m,updateRecord:u,record:e})}))})]})}function sa(e){return e.loading?null:(0,b.jsx)(aa,(0,E.Z)({},e))}n(99519),(0,ln.default)(Xi)(oa||(oa=(0,i.Z)(["\n  ","\n"])),f.ZP.small(la||(la=(0,i.Z)(["\n    margin-bottom: 0;\n  "]))));var oa,la,da,ca,ua,ma,pa=(0,ln.default)(Gi)(da||(da=(0,i.Z)([""]))),ga=(0,ln.default)(Ki)(ca||(ca=(0,i.Z)(["\n  padding: 0;\n  margin-bottom: 20px;\n"])));(0,ln.default)("div")(ua||(ua=(0,i.Z)(["\n  display: flex;\n  margin-bottom: 20px;\n"]))),(0,ln.default)("span")(ma||(ma=(0,i.Z)(["\n  color: red;\n"])));function fa(e){var t=e.changedRecords;return(0,b.jsx)("div",{children:(0,b.jsx)(ga,{children:(0,b.jsx)(pa,{children:t.map((function(e){return""===e.value?(0,b.jsx)(ia,{textKey:e.key,value:e.value,remove:!0}):(0,b.jsx)(ia,{textKey:e.key,value:e.value})}))})})})}var xa,ha="link";function va(e){return"https://eth.".concat(ha,"/names/").concat(e,".").concat(ha)}function ya(){return["app.ens.domains","ens.eth","ens.eth.link"].includes(window.location.host)}function ba(e){if(!ya())return Promise.resolve({status:null});var t=va(e);fetch(t,{method:"PUT",mode:"cors",headers:{Origin:"*","Content-Type":"text/plain","Access-Control-Request-Method":"PUT"}}).catch((function(e){console.log(e)}))}function ja(e){return ya()?fetch(va(e)):Promise.resolve({status:null})}function wa(e){var t=e.split(".");return"eth"===t[t.length-1]&&"eth"!==e}var Za,Ea,Oa,ka,Ca,Ra,Ta,Da,Sa,Pa=(0,p.Z)("span",{target:"e16oolg60"})({name:"1dy9kne",styles:"margin-right:1em;color:#f5a623;"}),Ia=(0,p.Z)("div",{target:"e16oolg61"})("margin-left:0;",f.ZP.small(xa||(xa=(0,i.Z)(["\n    margin-left: auto;\n  "]))),";");function Na(e){var t=e.domain,n=e.value;if(1!==Yt().networkId)return"";var i=(0,a.useState)(!1),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,a.useState)(!1),m=(0,r.Z)(u,2),p=m[0],f=m[1],x=(0,g.$)().t;return(0,d.Yz)((function(){ja(t.name).then((function(e){200===e.status&&(c(!1),f(!1))})).catch((function(e){console.log("checkCertificate error",{e:e})}))}),p?3e3:null),(0,a.useEffect)((function(){wa(t.parent)&&"contenthash"===t.contentType&&t.content!==l.VM&&(null!==n&&void 0!==n&&n.includes("ipfs")||null!==n&&void 0!==n&&n.includes("ipns"))&&ja(t.name).then((function(e){var t=e.status;c(404===t)}))}),[t,n]),o?p?(0,b.jsx)(Ia,{children:(0,b.jsx)(ye.Z,{children:x("singleName.messages.pending")})}):(0,b.jsxs)(Ia,{children:[(0,b.jsx)(Pa,{children:x("certificate.warning",{name:t.name})}),(0,b.jsx)(L.Co,{onClick:function(){ba(t.name),f(!0)},children:x("certificate.button")})]}):""}var Ma=(0,p.Z)(En,{target:"e1j4db1j0"})((function(e){return!e.hasRecord&&"display: none;"})," ",(function(e){return e.noBorder?"":"border-top: 1px dashed #d3d3d3;"})," display:block;padding:20px;flex-direction:column;",f.ZP.small(Za||(Za=(0,i.Z)(["\n    align-items: flex-start;\n  "])))," border-bottom:1px dashed #d3d3d3;",f.ZP.medium(Ea||(Ea=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n  "]))),""),Fa=(0,p.Z)("div",{target:"e1j4db1j1"})("display:grid;width:100%;justify-content:flex-start;align-items:center;position:relative;",f.ZP.medium(Oa||(Oa=(0,i.Z)(["\n    display: flex;\n  "])))," ",(function(e){return e.editing&&"margin-bottom: 30px"}),";"),Aa=(0,p.Z)(On,{target:"e1j4db1j2"})("font-size:12px;margin-bottom:0;max-width:100%;margin-right:10px;align-self:flex-start;",f.ZP.medium(ka||(ka=(0,i.Z)(["\n    width: 180px;\n    margin-right: 0px;\n  "])))," ",f.ZP.large(Ca||(Ca=(0,i.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),""),_a=(f.ZP.small(Ra||(Ra=(0,i.Z)(["\n    font-size: 16px;\n    max-width: 220px;\n    min-width: 180px;\n  "]))),(0,p.Z)(kn,{target:"e1j4db1j4"})("font-size:14px;margin-top:1em;",f.ZP.small(Ta||(Ta=(0,i.Z)(["\n      margin-top: 0;\n  "]))),"")),za=(f.ZP.medium(Da||(Da=(0,i.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),(0,p.Z)("div",{target:"e1j4db1j6"})({name:"8atqhb",styles:"width:100%;"})),Ba=(0,p.Z)("div",{target:"e1j4db1j7"})("margin-left:0;",f.ZP.small(Sa||(Sa=(0,i.Z)(["\n    margin-left: auto;\n  "]))),";"),La=(0,p.Z)(Pn.Z,{target:"e1j4db1j8"})({name:"ubqhym",styles:"align-self:flex-start;margin-top:10px;margin-left:10px;margin-right:10px;"}),Ua=(0,p.Z)("div",{target:"e1j4db1j10"})({name:"1s6m2d8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#ccc;"}),qa=(0,p.Z)("a",{target:"e1j4db1j11"})({name:"3wnzc5",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;svg{margin-left:10px;transition:0.1s;opacity:0;}&:hover{svg{opacity:1;}}"}),Va=function(e,t){return!!e.find((function(e){return e.key===t}))},Ha=function(e){var t=e.domain,n=e.keyName,r=e.type,i=e.records,a=e.changedRecords,s=e.editing,o=e.updateRecord,d=e.validator,c=(0,g.$)().t,u=t.contentType,m=i[0],p=null===m||void 0===m?void 0:m.value,f=d(m),x=""!==p&&!f;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(Ma,{editing:s,hasRecord:!0,children:(0,b.jsxs)(Fa,{editing:s,children:[(0,b.jsx)(Aa,{children:c("c.Content")}),!s&&(0,b.jsx)(_a,{editableSmall:!0,children:""===p||p===l.VM||void 0===p||"undefined"===p?(0,b.jsx)(Ua,{children:"Not set"}):(0,b.jsx)(Ya,{value:p,contentType:u,domain:t})}),s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(za,{children:(0,b.jsx)(Yi,{testId:"content-record-input".concat(x?"-invalid":""),onChange:function(e){o((0,E.Z)((0,E.Z)({},m),{},{value:e.target.value.trim()}))},hasBeenUpdated:Va(a,n),value:p,dataType:r,contentType:t.contentType,isValid:f,isInvalid:x})}),(0,b.jsx)(Ba,{children:(0,b.jsx)(La,{"data-testid":"delete-".concat(r.toLowerCase()),onClick:function(e){e.preventDefault(),o((0,E.Z)((0,E.Z)({},m),{},{value:l.VM}))}})})]}),!s&&(0,b.jsx)(Na,{domain:t,value:p})]})})})};function Ya(e){var t=e.value,n=e.contentType,r=e.domain,i=Yt().networkId,a=!!r.name.match(".evmos$")&&1===i&&(null===t||void 0===t?void 0:t.match(/^ip/));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(Pi,{value:t,contentType:n,domain:r}),a&&(0,b.jsx)("div",{children:(0,b.jsxs)(qa,{target:"_blank",rel:"noopener",href:"https://".concat(r.name,".link"),children:["(","https://".concat(r.name,".link"),")",(0,b.jsx)(Rn.r,{})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(Qn,{value:t}),(0,b.jsx)("div",{children:a&&(0,b.jsx)(b.Fragment,{children:"\xa0"})})]})]})}function Wa(e){var t=e.domain,n=(e.account,e.records),r=(null===n||void 0===n?void 0:n.length)&&n[0],i=t.contentType;return"error"===i?"":(0,b.jsx)(Ma,{children:(0,b.jsx)(Fa,{children:(0,b.jsx)(_a,{children:r&&""!==r?(0,b.jsx)(Ya,{value:null===r||void 0===r?void 0:r.value,contentType:i,domain:t}):(0,b.jsx)(Ua,{children:"Not set"})})})})}var $a,Ka=function(e){return e.canEdit?(0,b.jsx)(Ha,(0,E.Z)({},e)):(0,b.jsx)(Wa,(0,E.Z)({},e))};var Ga=(0,p.Z)("div",{target:"evxhp930"})("border-radius:6px;border:1px solid #ededed;box-shadow:inset 0 0 10px 0 rgba(235,235,235,0.5);display:",(function(e){return e.shouldShowRecords?"block":"none"}),";margin-bottom:20px;"),Xa=(0,p.Z)("div",{target:"evxhp931"})({name:"1s3rq3u",styles:"padding:20px;font-size:14px;color:#adbbcd;background:hsla(37,91%,55%,0.1);"}),Ja=(0,p.Z)(rn.ZP,{target:"evxhp932"})(""),Qa=(0,p.Z)("div",{target:"evxhp933"})({name:"1fsol5z",styles:"p{font-weight:300;font-size:14px;}padding:20px;background:#f0f6fa;display:flex;justify-content:space-between;"}),es=[{label:"Addresses",value:"coins",contractFn:"setAddr(bytes32,uint256,bytes)"},{label:"Content",value:"content",contractFn:"setContenthash"},{label:"Text",value:"textRecords",contractFn:"setText"}],ts=["ETH"].concat((0,R.Z)(Pr.Z.slice(0,3)));function ns(e){return 0===parseInt(e,16)||("0x"===e||!e)}var rs=function(e,t){var n=t.filter((function(t){return!e.find((function(e){return t===e.key}))})),r=e.map((function(e){return e.value===an.emptyAddress?(0,E.Z)((0,E.Z)({},e),{},{value:""}):e}));return[].concat((0,R.Z)(r),(0,R.Z)(n.map((function(e){return{key:e,value:""}}))))},is=function(e,t,n){var r=function(e,t){var n=e&&e.getTextRecords?rs(e.getTextRecords,Nr):rs([],Nr);return null===n||void 0===n?void 0:n.map((function(e){return(0,E.Z)({addr:t.addr,contractFn:"setText"},e)}))}(n,e),i=function(e){var t=e&&e.getAddresses?rs(e.getAddresses,ts):rs([],ts);return null===t||void 0===t?void 0:t.map((function(e){return(0,E.Z)({contractFn:"setAddr(bytes32,uint256,bytes)"},e)}))}(t),a=function(e){return{contractFn:"setContenthash",key:"CONTENT",value:(t=e.content,(null===t||void 0===t?void 0:t.startsWith("undefined"))||0===parseInt(t,16)?"":e.content)};var t}(e);return[].concat((0,R.Z)(r),(0,R.Z)(i),[a])},as=function(e){return e.filter((function(e){return"setAddr(bytes32,uint256,bytes)"===e.contractFn})).sort((function(e){return"ETH"===e.key?-1:1}))},ss=function(e){var t=e.filter((function(e){return"setContenthash"===e.contractFn}))[0];return t?[{key:t.key,value:t.value,contractFn:t.contractFn}]:[]},os=function(e){return e.filter((function(e){return"setText"===e.contractFn}))},ls=function(e){return function(t){e((function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return n.key===t.key?[].concat((0,R.Z)(e),[t]):[].concat((0,R.Z)(e),[n])}),[])}))}},ds=function(e){return function(t){e((function(e){return[].concat((0,R.Z)(e),[t])}))}},cs=function(e,t,n){return function(r){!function(e,t){return!!t.find((function(t){return t.key===e.key}))}(r,n)?t(r):e(r)}},us=function(e,t){return e.length===t.length},ms=function(e){return function(t){return e.some((function(e){return e.key===t.key&&e.val===t.val}))}},ps=function(e){return function(t){return e.some((function(e){return e.key===t.key&&e.val===t.val}))}},gs=function(){var e=(0,de.Z)(ue().mark((function e(t,n){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(n)).then((function(e){return t.map((function(t,n){return{valid:e[n],record:t}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fs=(0,l.Gh)((function(e,t,n,r,i,a){return e(function(e,t){return Sr()(t,e,Tr())}(t,n)),r([].concat((0,R.Z)(a),(0,R.Z)(i))),gs(i,x.uO)}),500),xs=(0,o.Ps)($a||($a=(0,i.Z)(["\n  query recordsQuery @client {\n    accounts\n    isReadOnly\n  }\n"])));function hs(e){var t=e.domain,n=e.isOwner,i=e.hasResolver,o=(e.isOldPublicResolver,e.isDeprecatedResolver,e.needsToBeMigrated),u=(0,g.$)().t,m=(0,s.a)(xs).data,p=m.accounts,f=(m.isReadOnly,(0,un.D)(he.U_,{onCompleted:function(e){U(Object.values(e)[0])}})),x=(0,r.Z)(f,1)[0],h=(0,a.useState)([]),v=(0,r.Z)(h,2),y=v[0],j=v[1],w=(0,a.useState)([]),Z=(0,r.Z)(w,2),E=Z[0],O=Z[1],k=(0,a.useState)([]),C=(0,r.Z)(k,2),T=C[0],D=C[1],S=(0,a.useState)([]),P=(0,r.Z)(S,2),I=P[0],N=P[1],M=(0,d.Y7)(),F=M.actions,A=M.state,_=A.pending,z=A.confirmed,B=A.editing,L=A.txHash,U=F.startPending,q=F.setConfirmed,V=F.startEditing,H=F.stopEditing,Y=F.resetPending,W=function(e){var t=(0,s.a)(c.yF,{variables:{id:(0,an.getNamehash)(e.name)}}).data,n=t&&t.domain&&t.domain.resolver,r=n&&n.coinTypes&&n.coinTypes.map((function(e){return Ir.formatsByCoinType[e]&&Ir.formatsByCoinType[e].name})).filter((function(e){return e})),i=(0,s.a)(c.Tt,{variables:{name:e.name,keys:r},skip:!r,fetchPolicy:"network-only"}),a=i.loading,o=i.data,l=(0,s.a)(c.Hl,{variables:{name:e.name,keys:n&&n.texts},skip:!t,fetchPolicy:"network-only"}),d=l.loading;return{dataAddresses:o,dataTextRecords:l.data,recordsLoading:a||d}}(t),$=W.dataAddresses,K=W.dataTextRecords,G=W.recordsLoading,X=(0,a.useState)([]),J=(0,r.Z)(X,2),Q=J[0],ee=J[1];!function(e,t,n,r){(0,a.useEffect)((function(){r(is(e,t,n))}),[e,t,n])}(t,$,K,ee),function(e,t,n){var r=(0,l.D9)(t);(0,a.useEffect)((function(){e&&r===t||n(t)}),[e,t,r])}(G,Q,j),function(e,t,n,r,i,s,o,d){var c=(0,l.D9)(i),u=(0,a.useRef)(),m=(0,a.useRef)(),p=(0,a.useRef)();u.current=i,m.current=o,p.current=d,(0,a.useEffect)((function(){if(!e){var a=i.filter((function(e){return!c.includes(e)}));fs(t,r,i,s,a,p.current).then((function(e){var t=e.filter((function(e){return u.current.includes(e.record)})),i=m.current.filter((function(e){return!t.some((function(t){return t.record.key===e.key}))})),o=t.filter((function(e){return e.valid||e.record.key.match(/_LEGACY/)&&e.record.value===r.find((function(t){return t.key===e.record.key})).value})).map((function(e){return e.record}));n([].concat((0,R.Z)(i),(0,R.Z)(o))),s(p.current.filter((function(e){return!a.includes(e)})))}))}}),[i,e,r])}(G,O,D,Q,y,N,T,I),function(e,t,n,r){(0,a.useEffect)((function(){n(t),r()}),[e])}(null===p||void 0===p?void 0:p[0],Q,j,H);var te=function(e,t,n){return!(e||!n)||!(!e||!t)}(n,i,function(e){return!ns(e.addr)||!ns(e.content)||void 0}(t));if(!te)return null;var ne=n;return(0,b.jsxs)(Ga,{shouldShowRecords:te,needsToBeMigrated:o,children:[!ne&&n?(0,b.jsx)(Xa,{children:u("singleName.record.cantEdit")}):(0,b.jsx)(oi,{canEdit:ne,emptyRecords:es,updateRecord:cs(ls(j),ds(j),y),pending:_,domain:t,editing:B,startEditing:V,stopEditing:H,initialRecords:Q,updatedRecords:y,setUpdatedRecords:j}),(0,b.jsx)(sa,{canEdit:ne,editing:B,records:as(y),title:u("c.addresses"),updateRecord:ls(j),changedRecords:E,validator:ms(T),validating:ps(I)}),(0,b.jsx)(Ka,{canEdit:ne,editing:B,domain:t,keyName:"CONTENT",type:"content",records:ss(y),changedRecords:E,updatedRecords:y,updateRecord:ls(j),validator:ms(T)}),(0,b.jsx)(sa,{canEdit:ne,editing:B,domain:t,records:os(y),title:u("c.textrecord"),updateRecord:ls(j),changedRecords:E,validator:ms(T),validating:ps(I)}),_&&!z&&L&&(0,b.jsx)(Qa,{pending:_,children:(0,b.jsx)(ye.Z,{txHash:L,onConfirmed:function(){q(),Y(),ee(y),wa(t.parent)&&ba(t.name)}})}),B&&!L&&(0,b.jsxs)(Qa,{children:[(0,b.jsx)("p",{children:"Add, delete, or edit one or multiple records. Confirm in one transaction."}),(0,b.jsx)(Ja,{mutation:function(){x({variables:{name:t.name,records:E}})},mutationButton:"Confirm",stopEditing:function(){j(Q),H()},disabled:!1,confirm:!0,extraDataComponent:(0,b.jsx)(fa,{changedRecords:E}),isValid:!!E.length&&us(y,T)&&!I.length})]})]})}var vs=n(92411);var ys=(0,p.Z)("div",{target:"e1qhalfw0"})({name:"x249lx",styles:"border-radius:6px;border:1px solid #ededed;box-shadow:inset 0 0 10px 0 rgba(235,235,235,0.5);padding-bottom:10px;display:block;margin-bottom:20px;"}),bs=(0,p.Z)("div",{target:"e1qhalfw1"})({name:"g62ntm",styles:"background:#f0f6fa;"}),js=(0,p.Z)("h3",{target:"e1qhalfw2"})({name:"h6kmv5",styles:"font-family:Overpass;font-weight:700;font-size:12px;color:#adbbcd;letter-spacing:0.5px;text-transform:uppercase;margin:0;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;"});function ws(e){return{title:"Title",maker:"Maker",type:"Type of Object",subject:"Subject",period:"Period",dimensions:"Measurements",materials:"Materials & Techniques",markings:"Inscriptions & Markings",features:"Features",reference:"Reference"}[e]}function Zs(e){var t=e.value,n=e.label;return t?(0,b.jsx)(Ii,{children:(0,b.jsxs)(Ni,{children:[(0,b.jsx)(Mi,{children:n}),(0,b.jsx)(Ai,{children:(0,b.jsx)("div",{children:t})})]})}):null}function Es(e){var t,n=e.domain,r=e.query;return null!==(t=n.name)&&void 0!==t&&t.match(/\.art$/)?(0,b.jsx)(vs.A,{query:r,variables:{name:n.name,key:"artrecords"},children:function(e){var t=e.loading,n=e.data;if(t)return(0,b.jsx)(u.Z,{center:!0});var r=n.getText;if(!r)return null;var i=function(e){var t={};try{t=JSON.parse(e)}catch(n){}return Object.keys(t).reduce((function(e,n){return e.concat({label:ws(n),value:t[n]})}),[])}(r);return function(e){return!e.length||0===e.filter((function(e){return e.value})).length}(i)?null:(0,b.jsxs)(ys,{children:[(0,b.jsx)(bs,{children:(0,b.jsx)(js,{children:"Art records"})}),i.map((function(e,t){return(0,b.jsx)(Zs,{value:e.value,label:e.label},t)}))]})}}):null}var Os,ks=n(86599);var Cs=(0,p.Z)("div",{target:"eoq7jyb0"})({name:"5nfc2",styles:"position:fixed;height:100%;width:100%;background:rgba(0,0,0,0.5);color:#2b2b2b;z-index:100000000;left:0;top:0;display:flex;justify-content:center;align-items:center;"}),Rs=(0,p.Z)("div",{target:"eoq7jyb1"})("background:white;padding:15px 20px;width:90%;",f.ZP.medium(Os||(Os=(0,i.Z)(["\n    width: 50%\n  "]))),""),Ts=(0,p.Z)("h2",{target:"eoq7jyb2"})({name:"t725ul",styles:"color:red;font-weight:300;font-size:22px;margin-top:0;"}),Ds=(0,p.Z)("pre",{target:"eoq7jyb3"})({name:"xs9fqv",styles:"white-space:normal;"}),Ss=(0,b.jsx)("svg",{width:"25",height:"22",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M12.165 6.51c.658-.16 1.344.16 1.618.77a1.8 1.8 0 01.137.664 49.926 49.926 0 01-.137 2.02c-.055 1.036-.137 2.099-.192 3.135-.027.345-.027.372-.027.717a1.021 1.021 0 01-1.042.984c-.576 0-1.015-.399-1.042-.957-.082-1.62-.192-2.976-.274-4.597l-.083-1.302a1.41 1.41 0 011.042-1.434m.357 12.222c-.768 0-1.399-.611-1.399-1.355s.631-1.355 1.399-1.355c.767 0 1.398.61 1.37 1.381.028.718-.63 1.329-1.37 1.329M3.749 22H21.24c2.879 0 4.688-3.056 3.263-5.447l-8.774-14.72c-1.425-2.444-5.044-2.444-6.47 0L.486 16.553C-.912 18.971.87 22 3.749 22",fill:"#DC2E2E",fillRule:"evenodd"})}),Ps=(0,p.Z)("div",{target:"eoq7jyb4"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"});var Is,Ns=function(e){var t=e.title,n=e.error,r=e.close,i=document.getElementById("modal-root");return ks.createPortal((0,b.jsx)(Cs,{onClick:r,children:(0,b.jsxs)(Rs,{onClick:function(e){return e.stopPropagation()},children:[(0,b.jsxs)(Ts,{children:[Ss," \xa0",t]}),(0,b.jsx)(Ds,{children:JSON.stringify(n)}),(0,b.jsx)(Ps,{children:(0,b.jsx)(L.Co,{type:"primary",onClick:r,children:"Close"})})]})}),i)};var Ms=(0,p.Z)(En,{target:"ek0r0970"})({name:"79elbk",styles:"position:relative;"}),Fs=(0,p.Z)(On,{target:"ek0r0971"})({name:"gikztc",styles:"color:#2b2b2b;"}),As=(0,p.Z)(kn,{target:"ek0r0972"})({name:"1j87prn",styles:"color:#f5a623;"}),_s=(0,p.Z)(L.Co,{target:"ek0r0973"})({name:"1y6ic72",styles:"margin-left:10px;"}),zs=(0,p.Z)("div",{target:"ek0r0974"})("margin-left:0;",f.ZP.small(Is||(Is=(0,i.Z)(["\n    margin-left: auto\n  "]))),""),Bs=(0,p.Z)("svg",{target:"ek0r0975"})({name:"lvyu5j",styles:"margin-right:10px;"});function Ls(e){var t=e.value,n=e.name,i=e.refetch,s=e.isOwner,o=(0,g.$)().t,l=(0,a.useState)(!1),c=(0,r.Z)(l,2),u=c[0],m=c[1],p=(0,d.Y7)(),f=p.state,x=p.actions,h=(0,d.Y7)(),v=h.state,y=h.actions,j=f.txHash,w=f.pending,Z=f.confirmed,E=v.txHash,O=v.pending,k=v.confirmed,C=x.startPending,R=x.setConfirmed,T=y.startPending,D=y.setConfirmed,S=(0,un.D)(he._5,{variables:{name:n},onCompleted:function(e){Object.values(e)[0].length>1?(C(Object.values(e)[0][0]),T(Object.values(e)[0][1])):(C(Object.values(e)[0][0]),T("notatx"))}}),P=(0,r.Z)(S,2),I=P[0],N=P[1].error;return(0,a.useEffect)((function(){N&&m(!0)}),[N]),(0,b.jsxs)(Ms,{children:[u&&(0,b.jsx)(Ns,{error:N,title:o("singleName.resolver.error"),close:function(){return m(!1)}}),(0,b.jsxs)(Fs,{children:[(0,b.jsx)(Bs,{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M8.739 5.82c-.039.746-.096 1.512-.134 2.258-.02.25-.02.268-.02.517a.723.723 0 01-.727.708.707.707 0 01-.727-.689c-.058-1.167-.134-2.143-.192-3.311l-.057-.938c-.02-.478.268-.9.727-1.034a.972.972 0 011.13.556c.057.153.095.306.095.478-.019.479-.057.976-.095 1.455m-.88 6.316a.98.98 0 01-.977-.976.98.98 0 01.976-.976c.536 0 .976.44.957.995.02.517-.44.957-.957.957M7.93 0a7.93 7.93 0 100 15.86A7.93 7.93 0 007.93 0",fill:"#F5A623",fillRule:"evenodd"})}),o("c.Resolver")]}),(0,b.jsxs)(As,{editable:!0,"data-testid":"migrate-value",children:[t,(0,b.jsx)(Qn,{iconColour:"#f5a623"})]}),(0,b.jsx)(zs,{children:!(w&&O&&j&&E)||Z&&k?(0,b.jsx)(_s,{onClick:s?I:function(){},type:s?"primary":"disabled",children:o("c.migrate")}):(0,b.jsx)(ye.Z,{txHashes:"notatx"===E?void 0:[j,E],txHash:"notatx"===E?j:void 0,onConfirmed:function(){R(),D(),i()}})})]})}var Us=(0,p.Z)("div",{target:"eod8dl70"})({name:"uewl2b",styles:"margin-bottom:20px;"});function qs(){var e=(0,g.$)().t;return(0,b.jsx)(Us,{children:e("singleName.resolver.warning")})}var Vs=(0,p.Z)("div",{target:"eod8dl71"})({name:"uewl2b",styles:"margin-bottom:20px;"}),Hs=(0,p.Z)("div",{target:"eod8dl72"})({name:"o5kxxr",styles:"border-top:1px dashed #d3d3d3;padding-top:20px;"}),Ys=(0,p.Z)("div",{target:"eod8dl73"})((function(e){return e.needsToBeMigrated?"\n    color: #ADBBCD;\n    font-size: 14px;\n    background: hsla(37, 91%, 55%, 0.1);\n    padding: 20px;\n    margin-bottom: 20px;\n  ":"background: none;"}),"");var Ws,$s=function(e){var t,n=e.domain,r=e.isOwner,i=e.refetch,a=e.account,o=e.isMigratedToNewRegistry,l=(0,g.$)().t,d=(t=n.resolver,0!==parseInt(t,16)),u=!1,m=!1,p=!0,f=!1,x=(0,s.a)(c.P9,{variables:{name:n.name,resolver:n.resolver},skip:!d}),h=x.data,v=x.loading;h&&h.getResolverMigrationInfo&&(u=h.getResolverMigrationInfo.isOldPublicResolver,m=h.getResolverMigrationInfo.isDeprecatedResolver,p=h.getResolverMigrationInfo.areRecordsMigrated,f=h.getResolverMigrationInfo.isPublicResolverReady);var y=!v&&o&&f&&(u||m);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Ys,{needsToBeMigrated:y,children:[y?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(Ls,{value:n.resolver,name:n.name,refetch:i,isOwner:r})}):(0,b.jsx)(wr,{keyName:"Resolver",type:"address",value:n.resolver,canEdit:r&&o,domain:n,editButton:l("c.set"),mutationButton:l("c.save"),mutation:he.WT,refetch:i,account:a,needsToBeMigrated:y,copyToClipboard:!0}),y&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(qs,{}),(0,b.jsxs)(Hs,{children:[(0,b.jsx)(Vs,{children:l("singleName.resolver.message")}),(0,b.jsx)(wr,{showLabel:!1,keyName:"Resolver",type:"address",value:n.resolver,canEdit:r&&o,domain:n,editButton:l("c.set"),editButtonType:"hollow-primary",mutationButton:l("c.save"),backgroundStyle:"warning",mutation:he.WT,refetch:i,account:a,needsToBeMigrated:y})]})]})]}),d&&Object.values(n).filter((function(e){return e})).length&&(0,b.jsx)(hs,{domain:n,refetch:i,account:a,isOwner:r,hasResolver:d,needsToBeMigrated:y,isOldPublicResolver:u,isDeprecatedResolver:m,areRecordsMigrated:p}),d&&(0,b.jsx)(Es,{domain:n,query:c.sx})]})};var Ks=(0,p.Z)("div",{target:"e14kl7v60"})("padding:20px 0px;display:flex;flex-direction:column;justify-content:space-between;",f.ZP.medium(Ws||(Ws=(0,i.Z)(["\n    flex-direction: row-reverse;\n  "]))),";border-top:1px dashed #d3d3d3;"),Gs=(0,p.Z)(L.Co,{target:"e14kl7v61"})({name:"2ug417",styles:"max-width:8em;"}),Xs=(0,p.Z)("p",{target:"e14kl7v62"})({name:"xvkx58",styles:"color:#c7d3e3;size:14pt;"}),Js=(0,p.Z)("pre",{target:"e14kl7v63"})({name:"hvcq6z",styles:"display:inline;background-color:#eee;padding:3px;"});var Qs,eo,to,no,ro,io,ao,so,oo,lo,co,uo,mo,po,go,fo,xo,ho,vo,yo,bo,jo,wo,Zo=function(e){var t=e.domain,n=e.refetch,i=(0,g.$)().t,a=(0,d.Y7)(),s=a.state,o=a.actions,l=s.txHash,c=s.pending,u=s.confirmed,m=o.startPending,p=o.setConfirmed,f=(0,un.D)(he.Zn,{onCompleted:function(e){m(Object.values(e)[0]),n()}}),x=(0,r.Z)(f,1)[0];return(0,b.jsxs)(Ks,{children:[c&&!u?(0,b.jsx)(ye.Z,{txHash:l,onConfirmed:function(){p(),n()}}):(0,b.jsx)(Gs,{"data-testid":"claim-test",onClick:function(){x({variables:{label:t.label}})},children:i("c.claim")}),(0,b.jsx)(Xs,{children:(0,b.jsxs)(on.c,{i18nKey:"singleName.test.note",children:["Note: ",(0,b.jsx)(Js,{children:".test"})," domain allows anyone to claim an unused name for test purposes, which expires after 28 days"]})})]})},Eo=(0,ln.default)("section")(Qs||(Qs=(0,i.Z)(["\n  padding: 20px;\n  transition: 0.4s;\n  ","\n"])),f.ZP.small(eo||(eo=(0,i.Z)(["\n    padding: 40px;\n  "])))),Oo=(0,ln.default)(u.Z)(to||(to=(0,i.Z)(["\n  width: 30%;\n  margin: auto;\n"]))),ko=(0,ln.default)(L.Co)(no||(no=(0,i.Z)(["\n  position: absolute;\n  width: 130px;\n  background-colore: white;\n"]))),Co=(0,ln.default)("div")(ro||(ro=(0,i.Z)(["\n  margin-top: 20px;\n  height: 50px;\n  ","\n"])),f.ZP.small(io||(io=(0,i.Z)(["\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 128px;\n    -webkit-transform: translate(0, -65%);\n    -ms-transform: translate(0, -65%);\n    transform: translate(0, -65%);\n  "])))),Ro=(0,ln.default)(kn)(ao||(ao=(0,i.Z)(["\n  color: ",";\n"])),(function(e){return e.isExpired?"red":null})),To=(0,ln.default)(An)(so||(so=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Do=(0,ln.default)("div")(oo||(oo=(0,i.Z)(["\n  background: #f0f6fa;\n  color: #adbbcd;\n  display: flex;\n  padding: 1em 0;\n  margin-left: 0px;\n  ","\n\n  margin-bottom: 45px;\n  padding-left: 24px;\n"])),f.ZP.small(lo||(lo=(0,i.Z)(["\n    margin-left: 180px;\n  "])))),So=(0,ln.default)(Do)(co||(co=(0,i.Z)(["\n  background: #fef7e9;\n"]))),Po=(0,ln.default)("div")(uo||(uo=(0,i.Z)(["\n  margin-top: 20px;\n  background: #fef7e9;\n  display: flex;\n"]))),Io=(0,ln.default)("div")(mo||(mo=(0,i.Z)(["\n  margin-top: 15px;\n"]))),No=(0,ln.default)("span")(po||(po=(0,i.Z)(["\n  display: inline-block;\n  transform: translate(25%, 20%);\n"]))),Mo=(0,ln.default)("a")(go||(go=(0,i.Z)(["\n  margin-right: ",";\n  font-size: 14px;\n  letter-spacing: 0.58px;\n  text-align: center;\n  margin-left: auto;\n  min-width: 130px;\n"])),(function(e){return e.outOfSync,""})),Fo=(0,ln.default)(Pe.r)(fo||(fo=(0,i.Z)(["\n  margin-right: 5px;\n  margin-top: 6px;\n  width: 20px;\n  height: 20px;\n"]))),Ao=(0,ln.default)("span")(xo||(xo=(0,i.Z)(["\n  color: #f5a623;\n"]))),_o=(0,ln.default)("div")(ho||(ho=(0,i.Z)(["\n  background: ",";\n  padding: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.outOfSync?"#fef7e9":""}),(function(e){return e.outOfSync?"1.5em":"0"}),(function(e){return e.outOfSync?"1.5em":"0"})),zo=(0,ln.default)("span")(vo||(vo=(0,i.Z)(["\n  color: ",";\n"])),(function(e){return e.outOfSync?"#CACACA":""})),Bo=(0,ln.default)("div")(yo||(yo=(0,i.Z)(["\n  font-family: 'Overpass';\n  background: ",";\n  padding: 10px 20px;\n  margin: 5px 0px;\n"])),(function(e){return e.isExpired?"#ff926f":"#fef7e9"})),Lo=(0,ln.default)("span")(bo||(bo=(0,i.Z)(["\n  color: ",";\n  margin-left: 0.5em;\n"])),(function(e){return e.isExpired?"white":"#cacaca"})),Uo=(0,ln.default)("span")(jo||(jo=(0,i.Z)(["\n  font-weight: bold;\n"]))),qo=(0,ln.default)("span")(wo||(wo=(0,i.Z)(["\n  color: ",";\n  font-weight: bold;\n"])),(function(e){return e.isExpired?"white":"#f5a623"})),Vo=function(e){var t=e.date,n=e.expiryTime,r=(0,g.$)().t,i=new Date>new Date(n);return(0,b.jsxs)(Bo,{isExpired:i,children:[(0,b.jsx)(qo,{isExpired:i,children:r(i?"singleName.expiry.expired":"singleName.expiry.expiringSoon")}),(0,b.jsxs)(Lo,{isExpired:i,children:[r("singleName.expiry.gracePeriodEnds")," ",(0,b.jsx)(Uo,{children:(0,N.p6)(t)})]})]})};function Ho(e){var t;return!(null===(t=e.name)||void 0===t||!t.match(/\.test$/))&&(0===parseInt(e.owner)||e.expiryTime<new Date)}var Yo=function(e){var t,n=e.isMigratedToNewRegistry,r=e.isDeedOwner,i=e.isRegistrant,a=e.showExplainer,s=e.canSubmit,o=e.outOfSync,l=e.loading,d=e.setLoading,c=e.isOwnerOfParent,u=e.isOwner,m=e.refetch,p=e.domain,f=e.dnssecmode,x=e.account,v=e.loadingIsMigrated,y=e.refetchIsMigrated,j=e.isParentMigratedToNewRegistry,w=e.loadingIsParentMigrated,Z=(0,g.$)().t,E=p.expiryTime<new Date,O=p.available||"0x0"===p.owner?null:p.owner,k=p.available||"0x0"===p.registrant?null:p.registrant,C="[root]"===p.name?null:p.parent?p.parent:"[root]",R=2===(null===(t=p.name)||void 0===t?void 0:t.split(".").length)&&0===parseInt(p.owner)&&"evmos"!==p.parent&&!p.isDNSRegistrar;return(0,b.jsxs)(Eo,{"data-testid":"name-details",children:[u&&(0,b.jsx)(cn,{initialState:a}),0!==parseInt(p.owner,16)&&!v&&!n&&(0,b.jsx)(Zn,{account:x,domain:p,dnssecmode:f,refetchIsMigrated:y,isParentMigratedToNewRegistry:j,loadingIsParentMigrated:w}),C?(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsx)(On,{children:Z("c.parent")}),(0,b.jsx)(kn,{children:(0,b.jsx)(me.rU,{to:"/name/".concat(C),"aria-label":Z("c.parent"),children:C})})]}):"",R&&(0,b.jsx)(Bo,{children:(0,b.jsxs)(En,{children:[Z("c.cannotclaimDns",{name:C}),(0,b.jsxs)(Mo,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,b.jsx)(No,{children:(0,b.jsx)(Rn.r,{})})]})]})}),(0,b.jsxs)(_o,{outOfSync:o,children:["evmos"===p.parent&&p.isNewRegistrar?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(wr,{domain:p,keyName:"registrant",value:k,canEdit:i&&!E,isExpiredRegistrant:i&&E,type:"address",editButton:Z("c.transfer"),mutationButton:Z("c.transfer"),mutation:he.PV,refetch:m,confirm:!0,copyToClipboard:!0}),(0,b.jsx)(wr,{domain:p,keyName:"Controller",value:O,canEdit:i||u&&n,deedOwner:p.deedOwner,isDeedOwner:r,type:"address",editButton:Z(i?"c.set":"c.transfer"),mutationButton:Z(i?"c.set":"c.transfer"),mutation:i?he.S1:he.ve,refetch:m,confirm:!0,copyToClipboard:!0})]}):"evmos"!==p.parent||p.isNewRegistrar?p.isDNSRegistrar?(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsxs)(On,{children:[Z("c.Controller")," ",u?(0,b.jsx)(Er,{}):""]}),(0,b.jsx)(kn,{children:(0,b.jsxs)(To,{address:p.owner,ariaLabel:Z("c.Controller"),children:[o?(0,b.jsx)(Nn.K,{address:p.owner,imageSize:24,color:"#E1E1E1",bgcolor:"#FFFFFF",spotcolor:"#CFCFCF"}):(0,b.jsx)(Nn.K,{address:p.owner,imageSize:24}),(0,b.jsx)(zo,{outOfSync:o,children:p.owner})]})}),(0,b.jsx)(Co,{outOfSync:o,children:s?(0,b.jsx)(Cr,{name:p.name,parentOwner:p.parentOwner,refetch:m,actionText:Z("c.sync")}):(0,b.jsx)(ve.Z,{text:Z("singleName.tooltips.detailsItem.ControllerAndDnsAlreadySync"),position:"left",border:!0,warning:!0,offset:{left:-30,top:10},children:function(e){var t=e.tooltipElement,n=e.showTooltip,r=e.hideTooltip;return(0,b.jsxs)(ko,{onMouseOver:function(){n()},onMouseLeave:function(){r()},type:"disabled",children:[Z("c.sync"),t]})}})})]}):(0,b.jsx)(wr,{domain:p,keyName:"Controller",value:p.owner,canEdit:(u||c)&&n,deedOwner:p.deedOwner,isDeedOwner:r,outOfSync:o,type:"address",editButton:Z(c?"c.set":"c.transfer"),mutationButton:Z(c?"c.set":"c.transfer"),mutation:c?he.c$:he.ve,refetch:m,confirm:!0,copyToClipboard:!0}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsx)(On,{children:Z("c.registrant")}),(0,b.jsx)(kn,{children:(0,b.jsxs)(To,{address:p.deedOwner,arialLabel:Z("c.registrant"),children:[(0,b.jsx)(Nn.K,{address:p.deedOwner,imageSize:24}),p.deedOwner]})})]}),(0,b.jsx)(wr,{domain:p,keyName:"Controller",value:p.owner,canEdit:i||u&&n,deedOwner:p.deedOwner,isDeedOwner:r,type:"address",editButton:Z(i?"c.set":"c.transfer"),mutationButton:Z(i?"c.set":"c.transfer"),mutation:i?he.S1:he.ve,refetch:m,confirm:!0,copyToClipboard:!0})]}),p.isDNSRegistrar?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsx)(On,{children:Z("dns.dnsowner")}),(0,b.jsx)(kn,{children:f.displayError?(0,b.jsx)(Ao,{children:f.title}):(0,b.jsxs)(To,{address:p.dnsOwner,ariaLabel:Z("dns.dnsowner"),children:[(0,b.jsx)(Nn.K,{address:p.dnsOwner,imageSize:24}),p.dnsOwner]})}),(0,b.jsx)(Co,{outOfSync:o,children:l?(0,b.jsx)(ko,{children:(0,b.jsx)(Oo,{})}):(0,b.jsxs)(ko,{onClick:function(){d(!0),m().then((function(e){d(!1)})).catch((function(e){console.log("failed to refetch",e)}))},children:[Z("c.refresh")," "]})})]}),f.displayError?(0,b.jsxs)(So,{children:[(0,b.jsx)(Fo,{}),p.stateError?p.stateError:Z("singleName.dns.messages.error"),(0,b.jsxs)(Mo,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,b.jsx)(No,{children:(0,b.jsx)(Rn.r,{})})]})]}):o?(0,b.jsxs)(Io,{children:[(0,b.jsx)(h.HR,{}),(0,b.jsxs)(Po,{children:[(0,b.jsx)(Fo,{}),(0,b.jsx)(on.c,{i18nKey:"singleName.dns.messages.outOfSync",children:f.explainer}),(0,b.jsxs)(Mo,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",outOfSync:o,children:[Z("c.learnmore")," ",(0,b.jsx)(No,{children:(0,b.jsx)(Rn.r,{})})]})]})]}):(0,b.jsxs)(Do,{children:[(0,b.jsx)(on.c,{i18nKey:"singleName.dns.messages.readyToRegister",children:f.explainer}),(0,b.jsxs)(Mo,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,b.jsx)(No,{children:(0,b.jsx)(Rn.r,{})})]})]})]}):"",p.registrationDate?(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsx)(On,{children:Z("c.registrationDate")}),(0,b.jsx)(kn,{children:(0,N.p6)(p.registrationDate)})]}):"",p.available?"":p.isNewRegistrar||p.gracePeriodEndDate?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(wr,{domain:p,keyName:"Expiration Date",value:p.expiryTime,canEdit:0!==parseInt(x,16),type:"date",editButton:Z("c.renew"),mutationButton:Z("c.renew"),mutation:he.ZK,refetch:m,confirm:!0}),p.gracePeriodEndDate?(0,b.jsx)(Vo,{expiryTime:p.expiryTime,date:p.gracePeriodEndDate}):""]}):p.expiryTime?(0,b.jsxs)(En,{uneditable:!0,children:[(0,b.jsx)(On,{children:Z("c['Expiration Date']")}),(0,b.jsx)(Ro,{isExpired:E,children:(0,N.p6)(p.expiryTime)})]}):""]}),(0,b.jsx)(h.HR,{}),(0,b.jsx)($s,{domain:p,isOwner:u,refetch:m,account:x,isMigratedToNewRegistry:n}),Ho(p)?(0,b.jsx)(Zo,{domain:p,refetch:m}):null]})};var Wo=function(e){var t,n,i=e.domain,o=e.isOwner,l=e.isOwnerOfParent,d=e.refetch,u=e.account,m=e.registrationOpen,p=e.tab,g=e.pathname,f=(0,a.useState)(void 0),h=(0,r.Z)(f,2),v=h[0],y=h[1],j=(0,s.a)(c.Ak,{variables:{name:i.name}}),w=j.data,E=(w=void 0===w?{}:w).isMigrated,O=j.loading,k=j.refetch,C=(0,s.a)(c.Ak,{variables:{name:i.parent}}),R=C.data,T=(R=void 0===R?{}:R).isMigrated,D=C.loading,S=u&&0!==parseInt(u),P=!O&&E,I=T,N=i.deedOwner===u,M=!i.available&&i.registrant===u;[5,6].includes(i.state)&&!E?(t=sn[7],n=S&&i.isDNSRegistrar&&"SUBMIT_PROOF"===t.state):(t=sn[i.state],n=S&&i.isDNSRegistrar&&"SUBMIT_PROOF"===t.state&&i.owner.toLowerCase()!==i.dnsOwner.toLowerCase());var F=!parseInt(i.resolver),A=t&&t.outOfSync,_=g.split("/").length>3;return"evmos"!==i.parent||"register"!==p||_?"evmos"!==i.parent||"details"!==p||_?"evmos"===i.parent||_?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z.AW,{path:"/name/:name/details",render:function(){return(0,b.jsx)(Yo,{loadingIsMigrated:O,isMigratedToNewRegistry:P,isDeedOwner:N,isRegistrant:M,showExplainer:F,canSubmit:n,outOfSync:A,loading:v,setLoading:y,isOwnerOfParent:l,isParentMigratedToNewRegistry:I,loadingIsParentMigrated:D,isOwner:o,refetch:d,domain:i,dnssecmode:t,account:u,refetchIsMigrated:k})}}),!1,(0,b.jsx)(Z.AW,{exact:!0,path:"/name/:name/register",render:function(){return(0,b.jsx)(nn,{registrationOpen:m,domain:i,refetch:d,refetchIsMigrated:k,readOnly:(0,x.bx)(u)})}})]}):(0,b.jsx)(Z.l_,{to:"".concat(g,"/subdomains")}):(0,b.jsx)(Z.l_,{to:"".concat(g,"/details")}):(0,b.jsx)(Z.l_,{to:"".concat(g,"/register")})},$o={initialState:"ENABLE_DNSSEC",states:{ENABLE_DNSSEC:{on:{NEXT:"ADD_TEXT"}},ADD_TEXT:{on:{NEXT:"SUBMIT_PROOF"}},SUBMIT_PROOF:{on:{NEXT:"SUBMIT_SENT"}},SUBMIT_SENT:{on:{NEXT:"SUBMIT_CONFIRMED"}},SUBMIT_CONFIRMED:{on:{NEXT:"SUBMIT_CONFIRMED"}}}},Ko=T($o),Go=Ko.registerReducer;Ko.hasReachedState;var Xo=(0,p.Z)("div",{target:"e17aiox40"})("color:",(function(e){return 100===e.progress?"#42E068":"#dfdfdf"}),";font-size:34px;font-weight:300;position:relative;width:60px;height:60px;span{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"),Jo=(0,p.Z)("svg",{target:"e17aiox41"})("stroke:#ccc;circle{stroke-dasharray:",180,";stroke-dashoffset:0;}circle.progress{stroke-dasharray:",180,";stroke-dashoffset:",(function(e){return 1.8*(e.progress-100)}),";}"),Qo=(0,p.Z)("div",{target:"e17aiox42"})({name:"1c5k5tl",styles:"margin-left:8px;div{font-weight:100;font-size:20px;color:#2b2b2b;letter-spacing:0;}p{font-size:12px;color:#adbbcd;letter-spacing:0;}"}),el=(0,p.Z)("div",{target:"e17aiox43"})({name:"k008qs",styles:"display:flex;"}),tl=function(e){var t=e.number,n=e.text,r=e.title,i=e.progress,a=void 0===i?100:i;return(0,b.jsxs)(el,{children:[(0,b.jsxs)(Xo,{progress:a,children:[(0,b.jsxs)(Jo,{height:"60",width:"60",progress:a,children:[(0,b.jsx)("circle",{cx:"30",cy:"30",r:"28",stroke:"#dfdfdf",strokeWidth:"2",fill:"none",transform:"rotate(-90, 30, 30)"}),(0,b.jsx)("circle",{cx:"30",cy:"30",r:"28",strokeWidth:"2",stroke:"#42E068",fill:"none",className:"progress",transform:"rotate(-90, 30, 30)"})]}),(0,b.jsx)("span",{children:t})]}),(0,b.jsxs)(Qo,{children:[(0,b.jsx)("div",{children:r}),(0,b.jsx)("p",{children:n})]})]})},nl=(0,p.Z)("section",{target:"e1nbaug0"})("display:grid;grid-template-columns:1fr;grid-row-gap:30px;border-bottom:",(function(e){return e.border?"1":"0"}),"px solid #dfdfdf;"),rl=function(e){var t=e.step,n=e.number,r=e.title,i=e.text,a=e.border;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(nl,{border:a,children:(0,b.jsx)(tl,{number:n,progress:"SUBMIT_CONFIRMED"===t?100:"SUBMIT_SENT"===t?50:0,title:r,text:i})})})};var il=(0,p.Z)("div",{target:"el8mv480"})({name:"q2ms4q",styles:"width:60px;"}),al=(0,p.Z)(u.Z,{target:"el8mv481"})({name:"m2kbm0",styles:"width:30%;margin:auto;"}),sl=(0,p.Z)("span",{target:"el8mv482"})({name:"1bv9mw7",styles:"display:inline-block;transform:translate(25%,20%);"}),ol=(0,p.Z)("div",{target:"el8mv483"})({name:"2p5bw9",styles:"display:flex;justify-content:flex-end;align-items:center;padding-top:20px;"}),ll=(0,p.Z)("a",{target:"el8mv484"})({name:"10d8d2u",styles:"margin-right:1em;font-size:14px;letter-spacing:0.58px;text-align:center;margin-left:auto;"}),dl=(0,p.Z)(Se,{target:"el8mv485"})({name:"1sylyko",styles:"margin-right:5px;"}),cl=function(){return(0,b.jsx)("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M8.739 5.82c-.039.746-.096 1.512-.134 2.258-.02.25-.02.268-.02.517a.723.723 0 0 1-.727.708.707.707 0 0 1-.727-.689c-.058-1.167-.134-2.143-.192-3.311l-.057-.938c-.02-.478.268-.9.727-1.034a.972.972 0 0 1 1.13.556c.057.153.095.306.095.478-.019.479-.057.976-.095 1.455m-.88 6.316a.98.98 0 0 1-.977-.976.98.98 0 0 1 .976-.976c.536 0 .976.44.957.995.02.517-.44.957-.957.957M7.93 0a7.93 7.93 0 1 0 0 15.86A7.93 7.93 0 0 0 7.93 0",fill:"#F5A623",fillRule:"evenodd"})})},ul=(0,p.Z)("span",{target:"el8mv486"})({name:"rwq7by",styles:"margin-left:0.2em;font-size:14px;color:#f5a623;"});function ml(e){var t=e.step,n=e.name,r=e.parentOwner,i=e.incrementStep,a=e.txHash,s=e.setTxHash,o=e.refetch,l=e.loading,d=e.setLoading,c=e.readOnly,u=(0,g.$)().t,m=function(e){return l?(0,b.jsx)(L.Co,{children:(0,b.jsx)(il,{children:(0,b.jsx)(al,{})})}):(0,b.jsx)(L.Co,{onClick:function(){d(!0),o().then((function(t){d(!1),t.data.singleName.state>e&&i()}))},children:u("c.refresh")})};return{ENABLE_DNSSEC:(0,b.jsx)(m,{number:2}),ADD_TEXT:(0,b.jsx)(m,{number:4}),SUBMIT_PROOF:(0,b.jsx)(ge.m,{mutation:he.cH,onCompleted:function(e){s(Object.values(e)[0]),i()},children:function(e){return(0,b.jsx)(L.Co,{onClick:function(){e({variables:{name:n,parentOwner:r}})},type:c?"disabled":"primary",children:u("c.register")})}}),SUBMIT_SENT:(0,b.jsx)(ye.Z,{txHash:a,onConfirmed:function(){i()}}),SUBMIT_CONFIRMED:(0,b.jsxs)(L.Co,{onClick:function(){return o()},children:[(0,b.jsx)(dl,{}),u("dns.viewinmanager")]})}[t]}var pl=function(e){var t=e.name,n=e.parentOwner,i=e.step,s=e.incrementStep,o=e.refetch,l=e.error,d=e.readOnly,c=(0,g.$)().t,u=(0,a.useState)(void 0),m=(0,r.Z)(u,2),p=m[0],f=m[1],x=(0,a.useState)(void 0),h=(0,r.Z)(x,2),v=h[0],y=h[1];return(0,b.jsxs)(ol,{children:[l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cl,{}),(0,b.jsx)(ul,{children:l})]}):null,(0,b.jsxs)(ll,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[c("c.learnmore"),(0,b.jsx)(sl,{children:(0,b.jsx)(Rn.r,{})})]}),(0,b.jsx)(ml,{step:i,name:t,parentOwner:n,incrementStep:s,txHash:p,setTxHash:f,refetch:o,loading:v,setLoading:y,readOnly:d})]})},gl=n(390);var fl,xl,hl,vl,yl,bl=(0,p.Z)(gl.Z,{target:"eoumirh0"})({name:"1z0j3iw",styles:"display:flex;overflow:hidden;svg{flex-grow:1;}"}),jl=(0,p.Z)("div",{target:"eoumirh1"})({name:"19lgokg",styles:"padding:20px 40px;"}),wl=(0,p.Z)("span",{target:"eoumirh2"})("color:",(function(e){return e.color}),";"),Zl=(0,p.Z)("span",{target:"eoumirh3"})({name:"1noogy1",styles:"color:#d8d8d8;"}),El=(0,p.Z)("div",{target:"eoumirh4"})({name:"11buw17",styles:"background:#f0f6fa;display:flex;padding:1em 0;*{padding-left 24px;}"}),Ol=(0,p.Z)("ul",{target:"eoumirh5"})({name:"qd70tj",styles:"background:#f0f6fa;list-style:none;overflow:hidden;display:flex;padding:1em;li{border-right:1px solid #adbbcd;text-align:center;flex:auto;}li a{color:white;text-decoration:none;padding:10px 0 10px 65px;background:brown;background:hsla(34,85%,35%,1);position:relative;display:block;float:left;}li:last-child{border-right:none;}"}),kl=(0,p.Z)("span",{target:"eoumirh6"})({name:"s3qwly",styles:"margin-right:0.5em;"}),Cl=function(e){var t,n=e.number,r=e.currentNumber,i=e.text,a=n<r?"\u2713":n;return t=n===r?"#2B2B2B":n<r?"#42E068":"#D8D8D8",(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(kl,{children:(0,b.jsx)("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",children:(0,b.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,b.jsx)("g",{transform:"translate(-694.000000, -314.000000)",children:(0,b.jsx)("g",{transform:"translate(404.000000, 183.000000)",children:(0,b.jsx)("g",{transform:"translate(37.000000, 119.000000)",children:(0,b.jsx)("g",{transform:"translate(253.000000, 9.000000)",children:(0,b.jsxs)("g",{transform:"translate(0.000000, 2.000000)",children:[(0,b.jsx)("circle",{fill:t,cx:"6",cy:"7",r:"6"}),(0,b.jsx)("text",{fontFamily:"Helvetica",fontSize:"10",fontWeight:"normal",letterSpacing:"0.3125",fill:"#F0F6FA",children:(0,b.jsx)("tspan",{x:"2.8",y:"10",children:a})})]})})})})})})})}),(0,b.jsx)(wl,{color:t,children:i})]})},Rl=function(e){var t=e.account,n=e.domain,i=e.refetch,s=e.readOnly,o=e.registrarAddress,l=(0,g.$)().t,d=sn[n.state],c=(0,a.useReducer)(Go,d.state||$o.initialState),u=(0,r.Z)(c,2),m=u[0],p=u[1],f=function(e,t,n,r){var i={ENABLE_DNSSEC:{title:r("dns.steps.enable.title"),text:r("dns.steps.enable.title"),number:1},ADD_TEXT:{title:(0,b.jsxs)(b.Fragment,{children:[r("dns.steps.addtext.title"),(0,b.jsxs)(Zl,{children:["a=",t]})]}),text:r("dns.steps.addtext.text"),number:2},SUBMIT_PROOF:[{title:r("dns.steps.proof.title1"),text:r("dns.steps.proof.text1"),number:3,owner:!0},{title:r("dns.steps.proof.title2"),text:r("dns.steps.proof.text2"),number:3}],SUBMIT_SENT:[{title:r("dns.steps.proof.title1"),text:r("dns.steps.proof.text1"),number:3,owner:!0},{title:r("dns.steps.proof.title2"),text:r("dns.steps.proof.text2"),number:3}],SUBMIT_CONFIRMED:[{title:r("dns.steps.manage.title"),text:r("dns.steps.manage.text1"),number:4,owner:!0},{title:r("dns.steps.manage.title"),text:r("dns.steps.manage.text2"),number:4}]}[e];return i.length>=0&&(i=t&&n.toLowerCase()===t.toLowerCase()?i[0]:i[1]),i}(m,t,n.dnsOwner,l),x=d.displayError&&(n.stateError||d.title),h=n.dnsOwner&&[2,3,4].includes(f.number)&&0!==parseInt(n.dnsOwner);return(0,b.jsxs)(jl,{children:[(0,b.jsxs)(Ol,{children:[(0,b.jsxs)("li",{children:[(0,b.jsx)(Cl,{number:1,currentNumber:f.number,text:l("dns.breadcrumbs.0")})," "]}),(0,b.jsx)("li",{children:(0,b.jsx)(Cl,{number:2,currentNumber:f.number,text:l("dns.breadcrumbs.1")})}),(0,b.jsx)("li",{children:(0,b.jsx)(Cl,{number:3,currentNumber:f.number,text:l("dns.breadcrumbs.2")})}),(0,b.jsx)("li",{children:(0,b.jsx)(Cl,{number:4,currentNumber:f.number,text:l("dns.breadcrumbs.3")})})]}),(0,b.jsx)(rl,{step:m,border:!h,number:f.number,title:f.title,text:f.text}),h?(0,b.jsxs)(El,{children:[(0,b.jsxs)("span",{children:[l("dns.dnsowner")," ",f.owner?(0,b.jsx)(Er,{}):null]}),(0,b.jsxs)(bl,{address:n.dnsOwner,children:[(0,b.jsx)(Nn.K,{address:n.dnsOwner,imageSize:24}),n.dnsOwner]})]}):null,(0,b.jsx)(pl,{name:n.name,parentOwner:o,incrementStep:function(){return p("NEXT")},step:m,error:x,state:n.state,label:n.label,refetch:i,readOnly:s})]})},Tl=function(e){return(0,b.jsx)(Rl,(0,E.Z)({},e))},Dl=(0,p.Z)("div",{target:"e2p7w0b0"})("padding:20px;text-align:center;",f.ZP.medium(fl||(fl=(0,i.Z)(["\n    padding: 40px 40px;\n  "]))),""),Sl=(0,p.Z)("div",{target:"e2p7w0b1"})("background:#f0f6fa;padding:20px;display:flex;justify-content:space-between;flex-direction:column;align-items:center;",f.ZP.medium(xl||(xl=(0,i.Z)(["\n    flex-direction: row;\n    align-items: flex-start;\n  "])))," p{text-align:left;max-width:500px;font-weight:300;line-height:26px;font-size:18px;margin-top:0;}",f.ZP.small(hl||(hl=(0,i.Z)(["\n    padding: 40px 40px;\n  "]))),"");function Pl(e){e.name;return(0,b.jsx)(Dl,{children:(0,b.jsx)(Sl,{children:"1 ~ 2 characters are not allowed to register."})})}var Il=(0,p.Z)(me.rU,{target:"e1hk9v110"})("font-size:14px;background:",(function(e){return e.active?"#2C46A6":"transparent"}),";color:",(function(e){return e.active?"white":"#D2D2D2"}),";transform:scale(",(function(e){return e.active?"1.08":"1"}),");transition:background 0.1s ease-out,transform 0.3s ease-out;padding:10px 20px;",f.ZP.small(vl||(vl=(0,i.Z)(["\n    padding: 10px 30px;\n  "])))," &:hover,&:visited{color:",(function(e){return e.active?"white":"#D2D2D2"}),";}&:first-child{border-radius:4px 0 0 4px;}&:last-child{border-radius:0 4px 4px 0;}"),Nl=(0,p.Z)("div",{target:"e1hk9v111"})("display:inline-flex;justify-content:flex-start;border:2px solid #dfdfdf;border-radius:4px;margin-left:20px;margin-top:20px;",f.ZP.small(yl||(yl=(0,i.Z)(["\n    margin-right: 0;\n    margin: 0;\n    margin-left: 20px;\n  "]))),"");function Ml(e,t,n){var r=e.name;return"eth"!==e.parent?t!=="/name/".concat(r,"/register")&&t!=="/name/".concat(r,"/subdomains"):("details"===n||t==="/name/".concat(r,"/details"))&&t!=="/name/".concat(r,"/register")&&t!=="/name/".concat(r,"/subdomains")}var Fl,Al,_l=function(e){var t=e.domain,n=e.pathname,r=e.parent,i=e.tab,a=(0,g.$)().t,s=t.name,o=t.state;return("Auction"!==o||"Reveal"!==o)&&(0,b.jsxs)(Nl,{children:["evmos"===r&&(0,b.jsx)(Il,{active:("register"===i||n==="/name/".concat(s,"/register"))&&n!=="/name/".concat(s,"/details")&&n!=="/name/".concat(s,"/subdomains"),to:"/name/".concat(s,"/register"),children:a("singleName.tabs.register")}),(0,b.jsx)(Il,{active:Ml(t,n,i),to:"/name/".concat(s,"/details"),children:a("singleName.tabs.details")}),!1]})},zl=n(54642);var Bl=(0,p.Z)("div",{target:"e3upn1v0"})({name:"1uu6enn",styles:"color:#ccd4da;margin-right:20px;"}),Ll=(0,p.Z)("div",{target:"e3upn1v1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Ul=(0,p.Z)(w,{target:"e3upn1v2"})("");function ql(e){var t,n=null===(t=e.name)||void 0===t?void 0:t.split(".");return 2===(null===n||void 0===n?void 0:n.length)&&"evmos"!==(null===n||void 0===n?void 0:n[1])&&(e.isDNSRegistrar&&e.owner===x.$W)}var Vl=(0,o.Ps)(Fl||(Fl=(0,i.Z)(["\n  query nameRegisterDataWrapper @client {\n    accounts\n    networkId\n  }\n"]))),Hl=(0,o.Ps)(Al||(Al=(0,i.Z)(["\n  query nameQuery {\n    accounts @client\n  }\n"])));var Yl,Wl=function(e){var t,n,i,o,d,c=e.details,u=e.name,m=e.pathname,p=e.type,y=e.refetch,j=(0,g.$)().t,w=(0,f.to)("small"),Z=(0,s.a)(Hl).data.accounts,E=null===Z||void 0===Z?void 0:Z[0],O=function(e,t){var n;return e.owner!==x.$W&&!e.available&&(null===(n=e.owner)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}(c,E),k=(0,l.kp)(c,E),C=c.deedOwner===E,R=!c.available&&c.registrant===E,T=(i=c.available,"evmos"===c.parent&&i),D=T?"register":"details",S=c.parentOwner;C||R?o="Registrant":O&&(o="Controller"),d=ql(c)?"Open":O?"Yours":c.state;var P=function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=t[0],i=t[1],o=(0,s.a)(Vl).data,l=o.accounts,d=o.networkId,c=null===l||void 0===l?void 0:l[0];return(0,a.useEffect)((function(){i((function(e){return e+1}))}),[c,d]),n}();return(0,b.jsxs)(zl.Z,{state:d,children:[(0,b.jsxs)(v.Z,{percentDone:0,children:[(0,b.jsxs)(h.D,{children:[null!==c&&void 0!==c&&c.decrypted?u:"[unknown"+(null===(t=c.name)||void 0===t?void 0:t.split(".")[0].slice(1,11))+"]."+c.parent,(0,b.jsx)(Qn,{value:null!==c&&void 0!==c&&c.decrypted?u:"[unknown"+(null===(n=c.name)||void 0===n?void 0:n.split(".")[0].slice(1,11))+"]."+c.parent})]}),(0,b.jsxs)(Ll,{children:[!!o&&(0,b.jsx)(Bl,{"data-testid":"owner-type",children:j("Registrant"===o?"c.registrant":"c.Controller")}),(0,b.jsx)(Ul,{domain:c}),w&&(0,b.jsx)(_l,{pathname:m,tab:D,domain:c,parent:c.parent})]})]}),!w&&(0,b.jsx)(_l,{pathname:m,tab:D,domain:c,parent:c.parent}),ql(c)?(0,b.jsx)(Tl,{domain:c,registrarAddress:S,pathname:m,refetch:y,account:E,readOnly:E===x.$W}):"short"===p&&c.owner===x.$W?(0,b.jsx)(Pl,{name:u}):(0,b.jsx)(Wo,{tab:D,domain:c,pathname:m,name:u,isOwner:O,isOwnerOfParent:k,refetch:y,account:E,registrationOpen:T})]},P)},$l=n(34690),Kl=(0,o.Ps)(Yl||(Yl=(0,i.Z)(["\n  query singleNameQuery @client {\n    isENSReady\n    networkId\n  }\n"])));var Gl=function(e){var t=e.match.params.name,n=e.location.pathname;(0,d.qQ)(0);var i,o=(0,a.useState)(void 0),p=(0,r.Z)(o,2),g=p[0],f=p[1],x=(0,a.useState)(void 0),h=(0,r.Z)(x,2),v=h[0],y=h[1],j=(0,a.useState)(""),w=(0,r.Z)(j,2),Z=w[0],E=w[1],O=(0,s.a)(Kl).data.isENSReady,k=(0,s.a)(c.yD,{variables:{name:Z},fetchPolicy:"no-cache",context:{queryDeduplication:!1}}),C=k.data,R=k.loading,T=k.error,D=k.refetch;if((0,a.useEffect)((function(){var e;if(O)try{e=(0,l.Ol)(t),E(e),document.title=t}catch(n){document.title="Error finding name"}finally{(0,l.ev)(e||t).then((function(e){"supported"===e||"tld"===e||"search"===e?(f(!0),y(e)):(y("invalid"===e?"domainMalformed":e),f(!1))}))}}),[t,O]),console.log({data:C}),g){if(R)return(0,b.jsx)(u.Z,{large:!0,center:!0});if(T)return(0,b.jsx)("div",{children:(console.log(T),JSON.stringify(T))});if(null!==C&&void 0!==C&&C.singleName)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)($l.JF,{children:(0,b.jsx)($l.Qx,{})}),(0,b.jsx)(Wl,{details:C.singleName,name:Z,pathname:n,type:v,refetch:D})]})}return!1===g?(i="invalid"===v?"domainMalformed":"short"===v?"tooShort":v,(0,b.jsx)(m.Z,{errors:[i],searchTerm:Z||t})):(0,b.jsx)(u.Z,{large:!0,center:!0})}},96517:function(e,t,n){"use strict";e.exports=n.p+"static/media/temporal.2792808ff3b15f243cdf.png"},71922:function(){},2363:function(){},64924:function(){},62678:function(){},25819:function(){},77451:function(){}}]);
//# sourceMappingURL=SingleName.c47ae0a1-a96f7.chunk.js.map